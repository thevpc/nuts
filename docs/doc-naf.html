<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">
    <link href="assets/images/favicon.ico" rel="icon"/>
    <title>Nuts Java Package Manager</title>
    <meta name="description" content="Nuts Java Package Manager Website">
    <meta name="author" content="thevpc">

    <!-- Stylesheet
    ============================== -->
    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="assets/vendor/bootstrap/css/bootstrap.min.css"/>
    <!-- Font Awesome Icon -->
    <link rel="stylesheet" type="text/css" href="assets/vendor/font-awesome/css/all.min.css"/>
    <!-- Magnific Popup -->
    <link rel="stylesheet" type="text/css" href="assets/vendor/magnific-popup/magnific-popup.min.css"/>
    <!-- Highlight Syntax -->
    <link rel="stylesheet" type="text/css" href="assets/vendor/highlight.js/styles/github.css"/>
    <!-- Custom Stylesheet -->
    <link rel="stylesheet" type="text/css" href="assets/css/stylesheet.css"/>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Smooch+Sans:wght@100..900&display=swap" rel="stylesheet">

</head>

<body data-spy="scroll" data-target=".idocs-navigation" data-offset="125">

<!-- Preloader -->
<div class="preloader">
    <div class="lds-ellipsis">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
</div>
<!-- Preloader -->

<!-- Document Wrapper   
=============================== -->
<div id="main-wrapper" class="documentation-main-wrapper">
    
    <!-- Header
    ============================ -->
<header id="header" class="sticky-top">
    <!-- Navbar -->
    <nav class="primary-menu navbar navbar-expand-lg navbar-dropdown-dark">
        <div class="container-fluid">
            <!-- Sidebar Toggler -->
            <button id="sidebarCollapse" class="navbar-toggler d-block d-md-none" type="button"><span></span><span
                    class="w-75"></span><span class="w-50"></span></button>

            <!-- Logo -->
            <a class="logo ml-md-3" href="index.html" title="Nuts Package Manager"> <img
                    src="assets/images/nuts-icon.png" alt="Nuts Package Manager" width="32px"/> </a>
            <span class="text-4 ml-2" style="font-family: ZeroesTwo;"><strong><a href="naf.html">Nuts Application Framework</a></strong></span>
            <span class="text-2 ml-2" style="font-family: ZeroesTwo;"><span class="badge badge-info">v0.8.6.0</span></span>
            <!-- Logo End -->

            <!-- Navbar Toggler -->
            <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#header-nav">
                <span></span><span></span><span></span></button>

            <div id="header-nav" class="collapse navbar-collapse justify-content-end">
                <ul class="navbar-nav">
                    <li><a href="index.html" class="">Nuts Package Manager</a></li>
                    <li class="dropdown"> <a class="dropdown-toggle" href="#">Documentation</a>
                      <ul class="dropdown-menu">
                          <li><a class="dropdown-item not-active" href="doc-naf.html">Developer Documentation</a></li>
                          <li><a class="dropdown-item " href="contrib.html">Contributing</a></li>
                          <li><a class="dropdown-item " href="faq.html">FAQ</a></li>
                          <!--
                        <li><a class="dropdown-item" href="#">Action</a></li>
                        <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#">More</a>
                          <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="index.html">Apps</a></li>
                            <li><a class="dropdown-item" href="feature-header-dark.html">Change Log</a></li>
                            <li><a class="dropdown-item" href="feature-header-primary.html">FAQ</a></li>
                            <li><a class="dropdown-item" href="index-2.html">Another Link</a></li>
                          </ul>
                        </li>
                        -->
                      </ul>
                    </li>
                    <li><a href="blog.html" class="">Blog</a></li>
                    <li><a href="apps.html" class="">Apps</a></li>
                    <li><a href="download.html" class="">Download</a></li>
                    <li><a target="_blank" href="https://github.com/thevpc/nuts">GitHub</a></li>
                </ul>
            </div>
            <ul class="social-icons social-icons-sm ml-lg-2 mr-2">
                <li class="social-icons-twitter"><a data-toggle="tooltip"
                                                    href="http://www.twitter.com/tbensalah/" target="_blank"
                                                    title="" data-original-title="Twitter"><i
                        class="fab fa-twitter"></i></a></li>
                <li class="social-icons-facebook"><a data-toggle="tooltip"
                                                     href="http://www.facebook.com/tbensalah/" target="_blank"
                                                     title="" data-original-title="Facebook"><i
                        class="fab fa-facebook-f"></i></a></li>
                <li class="social-icons-dribbble"><a data-toggle="tooltip"
                                                     href="http://www.dribbble.com/tbensalah/" target="_blank"
                                                     title="" data-original-title="Dribbble"><i
                        class="fab fa-dribbble"></i></a></li>
            </ul>
        </div>
    </nav>
    <!-- Navbar End -->
</header>
<!-- Header End -->


    <!-- Content
    ============================ -->
    <div id="content" role="main">

        <!-- Sidebar Navigation
        ============================ -->
        <div class="idocs-navigation bg-light">
            <ul class="nav flex-column ">
                
                <li class="nav-item"><a class="nav-link" href="#UB3E3BCD2CBEB8025F027CE4249EBAD5BD32EA817">1 Nuts Application Framework</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#UE1DA83F7ADEF997558E2BA966C3A4FA154D756FC">1.1 Hello World</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#UBD255AA9F691AEB9FB302EA11518197F3386D7EB">2 Command Line Processing</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#U252E1FBF31ECCB718CB6A72FAD38695F0E8FB53E">2.1 Creating NCmdLine instance</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#UE93EA604D339798F7E2383FED9E98D26AE947C7D">2.2 Command Line Elements</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U4FD1C4F1AB553412BBB28E798F73EDC482B9A397">2.3 Customizing CmdLine parsing</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U6A1E5A96749F3B346458555E75DEE8C42FFA7C0D">2.4 Processing the commandline</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#U2288F421EA2BE3916CE1B5F9A638B8F72CEF14EC">3 Structured Messaging</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#U5B7985656AE3F3F5663A2C6F4B9FD280A5DBED93">3.1 Placeholder Formats</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U27B34777E43D49C28903EF9321D8EF36525D569E">3.2 Styling Messages</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#UFE959FDE237B3B6FA45B379F98F650059E542C85">3.3 Nested Messages</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U93ED6AF4203B8B67F1759A6BBAA4529229A2A483">3.4 Text Rendering Formats</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#U082C7713A2F645DEAE990E4F4399934D94A35B64">4 Structured Elements</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#U033EF91EC0A122C9CAED51082C5D25DC71B73DA3">4.1 Create Elements</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U0F99F34794C62C5674600AA381BD931C15A0FF65">4.2 Parse Elements</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#UE28DA9946370B7B9693082CD1A7870299FAEF9BE">4.3 Format Elements</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U0E42BD7D166F74385B2D4D179BACEF667D3BC6C1">4.4 Convert Elements</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#UD5AB4C8DE577211801315F91F1F13BF95F23FAE2">5 Expressions & Templates</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#UC60C1BB90FA902AF1401D36EAB3DCAE520C30543">5.1 NExpr</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#UE96FDC9D5D2424A605A5185BF9FCC0EC0FF00AE1">6 Text Rendering & Models</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#U05E96CE4B40EE286FE9CDF6FE65F26A2B07137E3">6.1 Nuts Text Format</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U7006C3252A3013C9F564A0D965CE5A63AF0A0E1E">6.2 Rendering Text</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U4CB3A42D36540B68E76FC2496E13537A897C27E0">6.3 Rendering Tables</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U1B0751E87A168077C7AD2EA24CDCDB0E389A2760">6.4 Rendering Trees</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#U6413499FAE4672C548D930B297101FD249F37A66">7 IO & Filesystem Abstractions</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#U5D5EA461AAEC2A796A8B29738BEF329E9089E4AA">7.1 NOut Standard output</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U14773EED826C7F775FFC3AC22946D7176C5821FA">7.2 NErr Standard Error</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U67F14C6EBA817C7CF85892D4705B3A0B1CF87AC7">7.3 NTrace, the output companion</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U29FB0D0A31CE9674406E73E82856ADB8135219B8">7.4 NIn for simplified Input</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U118074A157ABAED5AA71630879517A9AE9E884BD">7.5 NPath</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U64E310658DAE165F6DFC160D4950ADF4F2EC344F">7.6 IO: Working with files</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#filesystem">7.7 File system</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#U2971A11A6DE6DF60D9DB661E4AB607D5913B755F">8 Concurrency & Stability</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#U45C4A77F2C3D5A7610243B8A99963CE0050D5C44">8.1 Stable Value</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U014FEE51D2551A72350DF8C77F8DBDC5413BEBB4">8.2 Cached Value</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U75217DA628D91C11E305BB7C6812DE7FE8800ECF">8.3 Rate Limit Value</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U5E01A6B4F9ADB9AC8353C0577E8F1395AE4C3846">8.4 Stable Value</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#UECD08D6350FA0AB959E7191832CE146442D9041E">8.5 Progress Monitoring</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#U91786BCD0B9017BC7FC66D0C3F5DC6EDD9BE7317">9 External Commands & Processes</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#U1FD9667E4AB218BED3FE9895697E4C3ADF6ED3B9">9.1 Process Discovery and Management</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U41EBAFB3ADE694F74030D3DFD9565CD765D2F525">9.2 Executing External Commands</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#UD937B80F493F09053FBB6A5EDC5EFC0DCB3E4C71">10 Utilities and Support</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#UB7BFC5971AFC63461C8763DD2B18F152E8F2AAA6">10.1 NLog for elegant Logging</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#NOptional">10.2 NOptional</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#NStream">10.3 NStream</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#U135D3C8AC89B4603142835023EE3227257911494">11 Application Lifecycle</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#nutsAppNAF">11.1 Nuts Application Framework</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#nutsApp">11.2 Your first Application using nuts</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#UA6606D31AE89C224E2F696DF7F81E4D04AC20737">11.3 Command Line Arguments</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U4A6B0EF704F4FD9EBDA792198EDE2BBCB4605FEB">11.4 Nuts Descriptor Integration</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#U4257FE11AA43FCBD155CCDFCCD5A6C0AB3E125D0">12 Integration & Interoperability</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#U055DEE6D08474BBBDEFE643105876F60C0D13D22">12.1 NAF Spring Boot Integration</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#U63ABCAF9B3770A6EBBD4CEADCAA3810DD14F1AE7">12.2 NAF SLF4J Integration</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="nav-item"><a class="nav-link" href="#UA8F4BA30657416C4B764DE934FC70CEA243F03DB">13 Workspace & Package Context</a>
                    
                    
                    <ul class="nav flex-column">
                        
                        <li class="nav-item"><a class="nav-link" href="#U53A03A920051C10C3776C05BA69D621C0DA13EBA">13.1 NWorkspace</a>
                            
                            
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="#UAB8C20B280CC4301E1019351F8BDC72619645E9C">13.2 NSession</a>
                            
                            
                        </li>
                        
                    </ul>
                    
                </li>
                
            </ul>
        </div>

        <!-- Docs Content
        ============================ -->
        <div class="idocs-content">
            <div class="container">

                
                    <!--pageLevel1-->
                    <section id="UB3E3BCD2CBEB8025F027CE4249EBAD5BD32EA817" >
                        <h2 class="main-section1"><a href="#UB3E3BCD2CBEB8025F027CE4249EBAD5BD32EA817">1 Nuts Application Framework</a></h2>
                        <div class="text-card">
                        Nuts is much more than a package manager — it is a powerful and extensible runtime framework for Java applications. While it provides robust support for dependency resolution and artifact management compatible with Maven repositories, Nuts also delivers a comprehensive suite of libraries and services that turn it into a foundation for building modular, interactive, and automated tools.Whether you're developing a CLI utility, a scripting engine, a DevOps automation tool, or a distributed plugin-based system, Nuts provides the scaffolding to manage dependencies, sessions, input/output, configuration, extensions, and workspace isolation — all in a portable and embeddable way.<p class="md-phrase"><mark class="md-code md-code-` ">nuts</mark> is a package manager that can be embedded in your application and hence present a solid Application Framework and tooling to make the applicable more robust and more portable.</p><p class="md-phrase"><mark class="md-code md-code-` ">nuts</mark> as a Framework (or Nuts Application Framework, or even simpler : <mark class="md-code md-code-` ">NAF</mark>):</p><ul class="md-ul"><li class="md-uli">Adds support for Application Lifecycle (Hooks for install, update, uninstall)</li><li class="md-uli">Adds support for auto update</li><li class="md-uli">Adds support for isolated input/output (via session in/out)</li><li class="md-uli">Adds support for Desktop Integration<ul class="md-ul"><li class="md-uli">Adds Shortcuts, Menus</li><li class="md-uli">Adds Aliases</li></ul></li><li class="md-uli">Adds support for Base Directory API<ul class="md-ul"><li class="md-uli">API to manage per application directories (log, cache, config,...)</li></ul></li><li class="md-uli">Adds support for Base Commandline API<ul class="md-ul"><li class="md-uli">standardized commandline options</li><li class="md-uli">inherit common options (--table, --json, ...)</li></ul></li></ul><H4 class="md-title-2">Dual Role by Design</H4>At its core, Nuts plays two essential roles:<ul class="md-ul"><li class="md-uli">As a package manager, Nuts handles runtime dependency resolution, dynamic execution of artifacts, and integration with Maven-compatible repositories.</li><li class="md-uli">As a framework, Nuts offers a rich set of APIs to handle I/O, configuration, text formatting, command execution, file systems, compressed archives, and more — helping developers write cleaner, more powerful, and portable applications.</li></ul><H4 class="md-title-2">Build, Embed, Automate</H4>Nuts is designed to work in multiple modes of operation:<ul class="md-ul"><li class="md-uli">Run Java programs and tools directly from repositories without downloading or installing them manually.</li><li class="md-uli">Integrate it as a library to give your own application full access to the Nuts runtime capabilities.</li><li class="md-uli">Use it as a DevOps engine to build repeatable scripts, installers, or deployment workflows.</li><li class="md-uli">Use Nuts as a command-line tool to install, run, or deploy applications.</li><li class="md-uli">Build your own ecosystem of versioned components, launchers, and tools powered by Nuts' modular runtime.</li></ul>In short, Nuts is a full-stack developer toolbox — part package manager, part framework, part scripting engine — designed to make modern Java development more dynamic, composable, and automation-friendly.<H4 class="md-title-2">Whether you are:</H4><ul class="md-ul"><li class="md-uli">Building CLI tools that need versioned plugins and extensible command handling,</li><li class="md-uli">Developing DevOps utilities with integrated workspace/session management,</li><li class="md-uli">Creating modular applications that dynamically load artifacts at runtime,</li><li class="md-uli">Writing cross-environment installers, launchers, or monitoring tools,</li><li class="md-uli">Or designing educational platforms, scripting DSLs, or JVM-based OS abstractions,</li></ul>Nuts delivers the foundational infrastructure so you can focus on features, not plumbing. Key CapabilitiesThe NAF framework offers a wide set of features: ✅ Package & Dependency Management<ul class="md-ul"><li class="md-uli">Compatible with Maven repositories and standards</li><li class="md-uli">Supports local, remote, and custom repositories</li><li class="md-uli">Enables runtime dependency resolution and dynamic artifact loading</li></ul>✅ Configurable Workspaces & Sessions<ul class="md-ul"><li class="md-uli">Isolated and shared workspace models with full lifecycle control</li><li class="md-uli">Sessions encapsulate runtime configuration, user preferences, I/O handling, logging, and output styles</li><li class="md-uli">Built-in support for dry-run, trace, confirmation, GUI/headless modes</li></ul>✅ Structured I/O & Logging<ul class="md-ul"><li class="md-uli">Supports semantic console output (NTF format) with colors, styles, and structured messages</li><li class="md-uli">Unified API for stdout/stderr, input, logging, formatting, and piping</li><li class="md-uli">Handles both human-friendly and machine-readable outputs (e.g., JSON, XML, Props, Tree)</li></ul>✅ Filesystem & Networking Utilities<ul class="md-ul"><li class="md-uli">Provides advanced file abstraction via NPath</li><li class="md-uli">Built-in support for streaming, compressing, uncompressing, digesting, and manipulating file trees</li><li class="md-uli">Unified access to HTTP, classpath, resources, and virtual filesystems</li></ul>✅ Extensibility & Integration<ul class="md-ul"><li class="md-uli">Supports modular extension points: listeners, commands, install hooks, and repositories</li><li class="md-uli">Embedded scripting with support for Java source snippets and other languages</li><li class="md-uli">Can be integrated into Spring, JavaFX, Swing, or any plain Java project</li></ul>✅ Developer & DevOps Friendly<ul class="md-ul"><li class="md-uli">Features like NRun, NExec, NShell, and NOps make it ideal for automation</li><li class="md-uli">Cross-platform support: Linux, macOS, Windows</li><li class="md-uli">Zero external runtime dependencies — deploy as a bare JAR, with automatic resolution on first use</li></ul><H4 class="md-title-2">Why Use NAF?</H4><p class="md-phrase">Unlike traditional libraries or shell utilities, <mark class="md-code md-code-` ">NAF</mark> brings together the flexibility of a modern scripting environment, the structure of a dependency-aware runtime, and the developer convenience of a polished CLI framework — all in one embeddable package. You can think of it as your:</p><ul class="md-ul"><li class="md-uli">Maven-like package manager, but runtime aware</li><li class="md-uli">Command-line framework, but fully pluggable</li><li class="md-uli">Launcher platform, but without installation or configuration hurdles</li><li class="md-uli">Shell scripting toolkit, but type-safe and Java-native</li></ul><p class="md-phrase">With <mark class="md-code md-code-` ">NAF</mark>, the boundary between development and runtime fades away, letting you write, deploy, and evolve tools without sacrificing portability, maintainability, or developer experience.</p><H4 class="md-title-2">Lightweight, Modular, and Composable</H4><ul class="md-ul"><li class="md-uli">Modular architecture built around workspaces, sessions, and execution contexts.</li><li class="md-uli">Supports multi-repository, multi-version, and multi-runtime setups.</li><li class="md-uli">Helps maintain separation between application logic and environment/runtime logic — a key feature for scripting, testing, and dynamic execution.</li></ul><H4 class="md-title-2">Not Just Tools — Ecosystems</H4><p class="md-phrase"><mark class="md-code md-code-` ">NAF</mark> encourages composability: it enables you to define reusable, versioned components that can evolve independently and work across environments. It brings a new level of reusability to the Java ecosystem, bridging the gap between packaged applications, scripts, and shared libraries. Whether you're building a command-line tool, a plugin system, a runtime launcher, or a portable enterprise toolkit — Nuts gives you a structured, scalable, and developer-friendly platform to do it all.</p>
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="UE1DA83F7ADEF997558E2BA966C3A4FA154D756FC" >
                                <h3 class="main-section2"><a href="#UB3E3BCD2CBEB8025F027CE4249EBAD5BD32EA817">1.1 Hello World</a></h3>
                                <div class="text-card">
                                <p class="md-phrase">To make use of <mark class="md-code md-code-` ">NAF</mark>  you need add the dependency  <code class="md-code md-code-``` net">.thevpc.nuts#nuts:0.8.6</code> and provide a hint to maven to point to the right repository <code class="md-code md-code-``` "> https://maven.thevpc.net</code></p><H4 class="md-title-2">Configure your pom.xml</H4><pre class="md-code md-code-``` xml"><code class="xml">
    &lt;dependencies&gt;
        &lt;dependency&gt;&lt;groupId&gt;net.thevpc.nuts&lt;/groupId&gt;&lt;artifactId&gt;nuts&lt;/artifactId&gt;&lt;version&gt;0.8.6&lt;/version&gt;&lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;repositories&gt;
        &lt;repository&gt;&lt;id&gt;thevpc&lt;/id&gt;&lt;url&gt;https://maven.thevpc.net&lt;/url&gt;&lt;/repository&gt;
    &lt;/repositories&gt;
    
</code></pre><H4 class="md-title-2">Bootstrap your Workspace</H4><pre class="md-code md-code-``` java"><code class="java">
    import net.thevpc.nuts.*;
    public class HelloWorld {
        public static void main(String[] args){
            Nuts.require();
        }
    }
</code></pre><H4 class="md-title-2">Use NAF components, anywhere in your app</H4><pre class="md-code md-code-``` java"><code class="java">
    import net.thevpc.nuts.*;
    public class HelloWorld {
        public static void main(String[] args){
            Nuts.require(); // &lt;-- this command should be called only once per app
            NOut.println(NMsg.ofC("Hello %s","World"));
            runMethod();
        }
        public static void runMethod(){
            NOut.println(NMsg.ofV("Hello $v",NMaps.of("v","World")));
        }
    }
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="UBD255AA9F691AEB9FB302EA11518197F3386D7EB" >
                        <h2 class="main-section1"><a href="#UBD255AA9F691AEB9FB302EA11518197F3386D7EB">2 Command Line Processing</a></h2>
                        <div class="text-card">
                        <p class="md-phrase"><mark class="md-code md-code-``` ">NCmdLine</mark> is a flexible and OS-portable command line parser that supports short and long options, boolean flags, valued options, non-options, comments, and argument files. It is the recommended way to handle command line input in NAF applications.</p><p class="md-phrase"><mark class="md-code md-code-``` ">NCmdLine</mark> supports command lines in the following form :</p><pre class="md-code md-code-``` sh"><code class="sh">
my-app -o=y --name='some name' -ex --extra value arg1 arg2
</code></pre><p class="md-phrase">where the command here supports short and long options (short ones are <mark class="md-code md-code-``` ">-o</mark>, <mark class="md-code md-code-``` ">-e</mark> and <mark class="md-code md-code-``` ">-x</mark>, where <mark class="md-code md-code-``` ">-e</mark> and <mark class="md-code md-code-``` ">-x</mark> are combined as <mark class="md-code md-code-``` ">-ex</mark>), and of course non options or regular arguments (here <mark class="md-code md-code-``` ">arg1</mark> and <mark class="md-code md-code-``` ">arg2</mark>). Note also that <mark class="md-code md-code-``` ">value</mark> could be interpreted as a value for <mark class="md-code md-code-``` ">--extra</mark> (or not; depending on how you configure your parser, for  this option).</p>
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="U252E1FBF31ECCB718CB6A72FAD38695F0E8FB53E" >
                                <h3 class="main-section2"><a href="#UBD255AA9F691AEB9FB302EA11518197F3386D7EB">2.1 Creating NCmdLine instance</a></h3>
                                <div class="text-card">
                                Command line can either be created manually or parsed.<H4 class="md-title-2">Manual creation</H4>You can create a command by providing the arguments:<pre class="md-code md-code-``` java"><code class="java">
    NCmdLine c1= NCmdLine.ofArgs("ls","-l");
</code></pre><H4 class="md-title-2">Parsing from string</H4>You can also create a commandline by parsing a string.<p class="md-phrase"><mark class="md-code md-code-` ">NAF</mark> supports multiple commandline dialects (bash/linux, bat/Windows,...)</p><pre class="md-code md-code-``` java"><code class="java">
    NCmdLine c1= NCmdLine.of("ls -l", NShellFamily.BASH);
</code></pre>When you do not specify the NShellFamily, runtime OS default is considered.<pre class="md-code md-code-``` java"><code class="java">
    NCmdLine c1= NCmdLine.parse("ls -l");
</code></pre><H4 class="md-title-2">Portable Parsing</H4><p class="md-phrase">You would want to be portable across all operating systems, you can use <mark class="md-code md-code-``` ">ofDefault</mark> method.</p><pre class="md-code md-code-``` java"><code class="java">
    NCmdLine c1= NCmdLine.ofDefault("ls -l");
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="UE93EA604D339798F7E2383FED9E98D26AE947C7D" >
                                <h3 class="main-section2"><a href="#UBD255AA9F691AEB9FB302EA11518197F3386D7EB">2.2 Command Line Elements</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-2">Options vs Non-options</H4><p class="md-phrase">In <mark class="md-code md-code-` ">NAF</mark>, command line arguments are categorized into three main types:</p><ul class="md-ul"><li class="md-uli">Options : Arguments that start with - or + and may carry a value.</li><li class="md-uli">Non-Options : Arguments that do not start with - or +. Typically filenames, commands, or positional arguments.</li><li class="md-uli">Comments : Arguments that are ignored, starting with -// or +//.</li></ul><H4 class="md-title-2">Short vs Long Options</H4><ul class="md-ul"><li class="md-uli">Short options: single prefix - or + followed by a single character, e.g., -o or +x.</li><li class="md-uli">Long options: double prefix -- or ++ followed by a word, e.g., --output or ++enable-feature.</li></ul>Short options can be combined:<pre class="md-code md-code-``` bash"><code class="bash">
-ex   # equivalent to -e -x
</code></pre>Exception: certain options like -version or +version are treated as single options and not expanded.<H4 class="md-title-2">Options With Values</H4><ul class="md-ul"><li class="md-uli">Options can carry a value (string, boolean, number).</li><li class="md-uli">Values can be attached with = or provided as the next argument:</li></ul><pre class="md-code md-code-``` bash"><code class="bash">
--name=Alice   # attached value
+name Alice    # next-argument value
</code></pre><H4 class="md-title-2">Boolean Options</H4>Boolean options do not always require a value:<pre class="md-code md-code-``` "><code class="">
--install      # equivalent to true
+install=true
--install=false  # or --!install-companions / --~install-companions
</code></pre><p class="md-phrase"><code class="md-code md-code-` ">!</code> and <code class="md-code md-code-` ">~</code> are treated as negation. This is useful in shells where <code class="md-code md-code-` ">!</code> has special meaning.</p>Boolean options in NAF can be true or false without explicitly writing true or false. The parser recognizes multiple synonyms for convenience:<H4 class="md-title-3">True Values</H4><pre class="md-code md-code-``` "><code class="">
true, enable, enabled, yes, always, y, on, ok, t, o
</code></pre><H4 class="md-title-3">False Values</H4><pre class="md-code md-code-``` "><code class="">
false, disable, disabled, no, none, never, n, off, ko, f
</code></pre><H4 class="md-title-2">Non-Options</H4>Non-options are all other arguments — files, commands, or positional values:<pre class="md-code md-code-``` "><code class="">
my-app -o --name Alice file1.txt file2.txt
</code></pre>Here, file1.txt and file2.txt are non-options.<H4 class="md-title-2">Ignored Arguments</H4>Arguments starting with -// or +// are ignored and can be used for comments or metadata in the command line.
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U4FD1C4F1AB553412BBB28E798F73EDC482B9A397" >
                                <h3 class="main-section2"><a href="#UBD255AA9F691AEB9FB302EA11518197F3386D7EB">2.3 Customizing CmdLine parsing</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-2">Configuring NCmdLine</H4><code class="md-code md-code-` ">setCommandName(String)</code><p class="md-phrase">This method help defining the name of the command supporting this command line. This is helpful when generating errors/exception so that the message is relevant for instance, you would call <code class="md-code md-code-``` setCommandName">("ls")</code>, so that all errors are in the form of <code class="md-code md-code-``` ls:"> unexpected argument --how</code></p><code class="md-code md-code-` ">setExpandSimpleOptions(true|false)</code><p class="md-phrase">This method can change the default behavior of NCmdLine (defaults to <mark class="md-code md-code-` ">true</mark>). When <mark class="md-code md-code-` ">true</mark>, options in the form <mark class="md-code md-code-` ">-ex</mark> are expanded to <code class="md-code md-code-` ">-e -x</code>.</p><code class="md-code md-code-` ">registerSpecialSimpleOption(argName)</code><p class="md-phrase">This method limits <mark class="md-code md-code-` ">setExpandSimpleOptions</mark> application so that for some options that start with <mark class="md-code md-code-` ">-</mark> (simple options), they are not expanded.  A useful example is '-version'. You wouldn't want it to be interpreted as '-v -e -r -s -i -o -n', would you?</p><code class="md-code md-code-` ">setExpandArgumentsFile(true|false)</code><p class="md-phrase">This method can change the default behavior of NCmdLine (defaults to <mark class="md-code md-code-` ">true</mark>). When <mark class="md-code md-code-` ">false</mark>, options in the form <code class="md-code md-code-` ">@path/to/arg/file</code> are interpreted as non options. When true (which is the default), the parser will load arguments from the given file/location.</p>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U6A1E5A96749F3B346458555E75DEE8C42FFA7C0D" >
                                <h3 class="main-section2"><a href="#UBD255AA9F691AEB9FB302EA11518197F3386D7EB">2.4 Processing the commandline</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-2">Using CommandLine, The recommended way...</H4>NCmdLine has a versatile parsing API. One way to use it is as follows :<pre class="md-code md-code-``` java"><code class="java">
    NCmdLine cmdLine = NApp.of().getCmdLine(); // or from somewhere else
    NRef&lt;Boolean&gt; boolOption = NRef.of(false);
    NRef&lt;String&gt; stringOption = NRef.ofNull();
    List&lt;String&gt; others = new ArrayList&lt;&gt;();
    while (cmdLine.hasNext()) {
        cmdLine.matcher()
                .with("-o", "--option").matchFlag((v) -&gt; boolOption.set(v.booleanValue()))
                .with("-n", "--name").matchEntry((v) -&gt; stringOption.set(v.stringValue()))
                .withNonOption().matchAny((v) -&gt; stringOption.set(v.image()))
                .requireDefaults()
        ;
    }
    // test if application is running in exec mode
    // (and not in autoComplete mode)
    if (cmdLine.isExecMode()) {
        //do the good staff here
        NOut.println(NMsg.ofC("boolOption=%s stringOption=%s others=%s", boolOption, stringOption, others));
    }

</code></pre><H4 class="md-title-2">Using CommandLine, The simple and legacy way...</H4><pre class="md-code md-code-``` java"><code class="java">
NCmdLine cmdLine = NApp.of().getCmdLine();
boolean boolOption = false;
String stringOption = null;
List&lt;String&gt; others = new ArrayList&lt;&gt;();
NArg a;
while (cmdLine.hasNext()) {
    a = cmdLine.peek().get();
    if (a.isOption()) {
        switch (a.key()) {
            case "-o":
            case "--option": {
                a = cmdLine.nextFlag().get();
                if (a.isUncommented()) {
                    boolOption = a.getValue().asBoolean().get();
                }
                break;
            }
            case "-n":
            case "--name": {
                a = cmdLine.nextEntry().get();
                if (a.isUncommented()) {
                    stringOption = a.getValue().asString().get();
                }
                break;
            }
            default: {
                NSession.of().configureLast(cmdLine);
            }
        }
    } else {
        others.add(cmdLine.next().get().image());
    }
}
// test if application is running in exec mode
// (and not in autoComplete mode)
if (cmdLine.isExecMode()) {
    //do the good staff here
    NOut.println(NMsg.ofC("boolOption=%s stringOption=%s others=%s", boolOption, stringOption, others));
}
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="U2288F421EA2BE3916CE1B5F9A638B8F72CEF14EC" >
                        <h2 class="main-section1"><a href="#U2288F421EA2BE3916CE1B5F9A638B8F72CEF14EC">3 Structured Messaging</a></h2>
                        <div class="text-card">
                        NMsg is the Nuts Application Framework (NAF) message and text formatting system. It allows you to create dynamic, flexible,  and visually rich messages in your applications. You can use it for console output, logs, and any scenario requiring formatted text.<p class="md-phrase"><mark class="md-code md-code-` ">NMsg</mark> is fully integrated with <mark class="md-code md-code-` ">NOut</mark> and <mark class="md-code md-code-` ">NErr</mark> for displaying rich and meaningful CLI output.</p>
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="U5B7985656AE3F3F5663A2C6F4B9FD280A5DBED93" >
                                <h3 class="main-section2"><a href="#U2288F421EA2BE3916CE1B5F9A638B8F72CEF14EC">3.1 Placeholder Formats</a></h3>
                                <div class="text-card">
                                NMsg supports multiple placeholder formats for dynamic message generation:<ul class="md-ul"><li class="md-uli"><p class="md-phrase">C-style (<mark class="md-code md-code-` ">ofC</mark>) – like <mark class="md-code md-code-` ">printf</mark> in C (<code class="md-code md-code-` ">%s</code>, <code class="md-code md-code-` ">%d</code>, etc.)</p></li><li class="md-uli"><p class="md-phrase">Java / SLF4J style (<mark class="md-code md-code-` ">ofJ</mark>) – <code class="md-code md-code-` ">{}</code> or <code class="md-code md-code-` ">{0}</code>, <code class="md-code md-code-` ">{1}</code></p></li><li class="md-uli"><p class="md-phrase">Variable substitution (<mark class="md-code md-code-` ">ofV</mark>) – named placeholders using <code class="md-code md-code-` ">$name</code> or <code class="md-code md-code-` ">${name}</code></p></li></ul>Examples<pre class="md-code md-code-``` java"><code class="java">
// C-style formatting
NMsg.ofC("Hello %s, you have %d new notifications", "Alice", 5);

// Java formatting
NMsg.ofJ("Downloading {0} from {1}", "report.pdf", "server-01");

// SLF4J-style formatting
NMsg.ofJ("Downloading {} from {}", "report.pdf", "server-01");

// Variable substitution from map
NMsg.ofV("User $user on ${app}", Map.of("user", "Alice", "app", "NAF"));

// Variable substitution from function
NMsg.ofV("Threshold=$th, Date=$date", name -&gt; switch (name) {
    case "th"   -&gt; 0.85;
    case "date" -&gt; LocalDate.now();
    default     -&gt; null;
});
</code></pre>Notes:<ul class="md-ul"><li class="md-uli">Avoid mixing styles in a single message.</li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">${}</code> syntax is safer for complex strings (e.g., <code class="md-code md-code-` ">$val123text</code> vs <code class="md-code md-code-` ">${val}123text</code>).</p></li></ul><H4 class="md-title-3"><p class="md-phrase">C-style Formatting (<mark class="md-code md-code-` ">ofC</mark>)</p></H4><p class="md-phrase">Use <mark class="md-code md-code-` ">ofC</mark> to create messages using standard <code class="md-code md-code-` ">String.format()</code>-style syntax:</p><pre class="md-code md-code-``` java"><code class="java">
NOut.println(NMsg.ofC("Hello %s", "world"));
</code></pre><p class="md-phrase">Placeholders like <code class="md-code md-code-` ">%s</code>, <code class="md-code md-code-` ">%d</code>, etc., behave as expected. Useful for simple messages with positional arguments.</p><H4 class="md-title-3">Java MessageFormat (ofJ)</H4><p class="md-phrase">Use <mark class="md-code md-code-` ">ofJ</mark> for Java-style formatting with <code class="md-code md-code-` ">{0}</code>, <code class="md-code md-code-` ">{1}</code> placeholders:</p><pre class="md-code md-code-``` java"><code class="java">
NOut.println(NMsg.ofJ("Hello {0}", "world"));
NOut.println(NMsg.ofJ("Hello {}", "world"));      // SLF4J-style
</code></pre>Both formats are supported, and will be filled using the provided arguments in order (but should not be mixed).<ul class="md-ul"><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">{}</code> placeholders are matched sequentially, like in SLF4J.</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">{0}</code>, <code class="md-code md-code-` ">{1}</code>, etc. allow for specific argument reordering or reuse.</p></li></ul><H4 class="md-title-2">Variable-based Formatting (ofV)</H4><p class="md-phrase">Use <mark class="md-code md-code-` ">ofV</mark> to format messages using named variables:</p><pre class="md-code md-code-``` java"><code class="java">
NOut.println(NMsg.ofV("Hello $v", NMaps.of("v", "world")));
NOut.println(NMsg.ofV("Hello ${v}", NMaps.of("v", "world")));
</code></pre><p class="md-phrase">Both <code class="md-code md-code-` ">$v</code> and <code class="md-code md-code-` ">${v}</code> syntaxes are supported.</p>Variables are replaced by name using the $ prefix. This is useful for dynamically named arguments or template-based rendering, particularly when formatting messages from dynamic key-value maps (e.g., for templates or localization).<ul class="md-ul"><li class="md-uli">$v is simple and concise.</li><li class="md-uli"><p class="md-phrase">${v} is safer when followed by alphanumeric characters (e.g., <code class="md-code md-code-` ">$val123text</code> vs <code class="md-code md-code-` ">${val}123text</code>).</p></li></ul>Missing variables are left as-is or replaced with a placeholder, depending on context or configuration.
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U27B34777E43D49C28903EF9321D8EF36525D569E" >
                                <h3 class="main-section2"><a href="#U2288F421EA2BE3916CE1B5F9A638B8F72CEF14EC">3.2 Styling Messages</a></h3>
                                <div class="text-card">
                                In NAF, messages are not just plain text — they can be styled and formatted to convey meaning, emphasize content, or improve readability.  The NMsg API allows you to combine colors, text modes, and semantic tokens to create rich, dynamic messages that adapt to different contexts (CLI, GUI terminals, logs, etc.).Why style messages?<ul class="md-ul"><li class="md-uli">Highlight important information: e.g., warnings, errors, success messages.</li><li class="md-uli">Improve readability: visually distinguish values, keys, or code snippets.</li><li class="md-uli">Semantic clarity: convey the role of a message part (like a keyword, boolean, or comment) rather than just its content.</li><li class="md-uli">Consistency: pre-defined color schemes and semantic tokens help maintain a unified look across your application.</li></ul><H4 class="md-title-1">Styling Categories</H4><H4 class="md-title-2">Default Styling</H4>NAF automatically applies default styles to many common data types, so messages are expressive without requiring explicit styling:<ul class="md-ul"><li class="md-uli">Boolean values (true / false) are styled using NTextStyle.bool().</li><li class="md-uli">Numbers</li><li class="md-uli">Dates / Times / Temporals</li><li class="md-uli">Enums</li><li class="md-uli">etc.</li></ul><pre class="md-code md-code-``` java"><code class="java">
// Boolean value without explicit styling
NOut.println(NMsg.of("Value=%s", true));

// Equivalent to explicitly styling the boolean
NOut.println(NMsg.of("Value=%s", NMsg.ofStyledBool("true")));
</code></pre><H4 class="md-title-2">Color Index / Theme</H4>NAF provides predefined colors, e.g., primary1, secondary5, error, warn, which map to your application’s theme. These ensure consistent appearance without manually specifying RGB values.<pre class="md-code md-code-``` java"><code class="java">
// Primary / Secondary themed colors
NMsg.ofStyledPrimary1("text");
NMsg.ofStyledSecondary5("text");

// Arbitrary foreground color
NMsg.ofStyledForegroundColor("text", Color.RED);

// Modes: bold, blink, striked
NMsg.ofStyledBold("text");
NMsg.ofStyledBlink("text", Color.RED);
NMsg.ofStyledStriked("text");
</code></pre><H4 class="md-title-2">Foreground / Background Colors</H4>You can specify arbitrary colors using Java Color objects. Foreground colors affect text color; background colors can be combined to create highlighted blocks or banners.<pre class="md-code md-code-``` java"><code class="java">
// Arbitrary foreground color
NMsg.ofStyledForegroundColor("text", Color.RED);
</code></pre><H4 class="md-title-2">Text Modes</H4>Modes like bold, italic, blink, strikethrough add emphasis and can be combined with colors for richer visual cues.<pre class="md-code md-code-``` java"><code class="java">
// Modes: bold, blink, striked
NMsg.ofStyledBold("text");
NMsg.ofStyledBlink("text", Color.RED);
NMsg.ofStyledStriked("text");
</code></pre><H4 class="md-title-2">Semantic Tokens</H4>These are high-level categories representing the meaning of text:<ul class="md-ul"><li class="md-uli">comments → for secondary or muted content</li><li class="md-uli">warn → for warnings</li><li class="md-uli">error → for errors or alerts</li><li class="md-uli">keyword, string, boolean → for syntax-like highlighting</li></ul><pre class="md-code md-code-``` java"><code class="java">
NMsg.ofStyledComments("comment");
NMsg.ofStyledWarn("warning");
NMsg.ofStyledString("string");
NMsg.ofStyledKeyword("keyword");
NMsg.ofStyledBoolean("boolean");
NMsg.ofStyledError("error");
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="UFE959FDE237B3B6FA45B379F98F650059E542C85" >
                                <h3 class="main-section2"><a href="#U2288F421EA2BE3916CE1B5F9A638B8F72CEF14EC">3.3 Nested Messages</a></h3>
                                <div class="text-card">
                                You can nest messages to create complex, styled outputs:<pre class="md-code md-code-``` java"><code class="java">
// Custom styling example
NMsg.ofC("Task %s completed with status %s",
    "Upload",
    NText.ofStyled("OK", NTextStyle.primary1())
);
</code></pre>Nested messages combine formatting, styling, and placeholders dynamically.<pre class="md-code md-code-``` java"><code class="java">
// Nested messages example
NMsg.ofV("User $user completed ${task}",
    NMaps.of(
        "user", "Alice",
        "task", NMsg.ofV("task %s in %s", "Upload",
        NText.ofStyled("123ms", NTextStyle.secondary1()))
    )
);
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U93ED6AF4203B8B67F1759A6BBAA4529229A2A483" >
                                <h3 class="main-section2"><a href="#U2288F421EA2BE3916CE1B5F9A638B8F72CEF14EC">3.4 Text Rendering Formats</a></h3>
                                <div class="text-card">
                                NMsgnull NMsg also provides multiple text rendering formats to make messages visually expressive.  You can use plain messages that print as-is, styled messages to highlight errors, warnings, or  other emphasis,  code blocks for monospaced text with optional  language hints, and NTF (Nuts Text Format) for lightweight  markup supporting bold, italic, colors, and other rich formatting.  These  formats, combined with placeholders, allow NMsg to produce rich,  dynamic, and visually  informative output in any context.NTF allows quick and readable text formatting directly in message strings.<pre class="md-code md-code-``` java"><code class="java">
NMsg.ofNtf("##bold## ##:/:italic## </code></pre>java public class{} <pre class="md-code md-code-``` "><code class="">");
</code></pre>you can use Code blocks to render source code with syntax coloring<pre class="md-code md-code-``` java"><code class="java">
NMsg.ofPlain("This is a plain message");
NMsg.ofCode("java", "System.out.println(\"Hello NAF\");");
</code></pre>you can also force plain text rendering<pre class="md-code md-code-``` java"><code class="java">
NMsg.ofPlain("This is a plain message");
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="U082C7713A2F645DEAE990E4F4399934D94A35B64" >
                        <h2 class="main-section1"><a href="#U082C7713A2F645DEAE990E4F4399934D94A35B64">4 Structured Elements</a></h2>
                        <div class="text-card">
                        With null, null lets you build, parse, and format structured data effortlessly. From plain objects tonull, null, ornull, you can read and write files, parse into Java objects, or print with optional null color formatting — all in a runtime-friendly way.
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="U033EF91EC0A122C9CAED51082C5D25DC71B73DA3" >
                                <h3 class="main-section2"><a href="#U082C7713A2F645DEAE990E4F4399934D94A35B64">4.1 Create Elements</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-2">Create a structured element</H4><pre class="md-code md-code-``` java"><code class="java">
// Build an element
NElement document = NElement.ofObjectBuilder()
    .set("app-id", NApp.of().getId().get())
    .set("error", messageString)
    .build();

</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U0F99F34794C62C5674600AA381BD931C15A0FF65" >
                                <h3 class="main-section2"><a href="#U082C7713A2F645DEAE990E4F4399934D94A35B64">4.2 Parse Elements</a></h3>
                                <div class="text-card">
                                <p class="md-phrase">use <mark class="md-code md-code-` ">ofJson</mark>, <mark class="md-code md-code-` ">ofTson</mark>, <mark class="md-code md-code-` ">ofYaml</mark>, and <mark class="md-code md-code-` ">ofXml</mark> to parse into <mark class="md-code md-code-` ">NElement</mark></p><pre class="md-code md-code-``` java"><code class="java">

// Parse JSON into Java object
NElement personJson = NElementParser.ofJson().parse(NPath.of("person.json"));
NElement personXml = NElementParser.ofXml().parse(NPath.of("person.xml"));

</code></pre>You can parse into a Java class as well :<pre class="md-code md-code-``` java"><code class="java">

// Parse JSON into Java object
Person person = NElementParser.ofJson().parse(NPath.of("person.json"), Person.class);

// Format and write XML to file
NElementFormat.ofPlainXml(document).println(NPath.of("person.xml"));

// Print TSON to terminal with colors
        NElementFormat.ofNtfTson(document).println();
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="UE28DA9946370B7B9693082CD1A7870299FAEF9BE" >
                                <h3 class="main-section2"><a href="#U082C7713A2F645DEAE990E4F4399934D94A35B64">4.3 Format Elements</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-2">Format element</H4><pre class="md-code md-code-``` java"><code class="java">

// Parse JSON into Java object
Person person = ...;

// Format and write XML to file
NElementFormat.ofPlainXml(document).println(NPath.of("person.xml"));

// Print TSON to terminal with colors
NElementFormat.ofNtfTson(document).println();
</code></pre><pre class="md-code md-code-``` java"><code class="java">

// Parse JSON into Java object
Person person = ...;

// Print TSON to terminal with colors
        NElementFormat.ofNtfTson(person).println(NPath.of("/some/path/file.tson"));
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U0E42BD7D166F74385B2D4D179BACEF667D3BC6C1" >
                                <h3 class="main-section2"><a href="#U082C7713A2F645DEAE990E4F4399934D94A35B64">4.4 Convert Elements</a></h3>
                                <div class="text-card">
                                <p class="md-phrase"><mark class="md-code md-code-` ">NElement</mark> is an excellent way to convert between text formats (<mark class="md-code md-code-` ">json</mark> to <mark class="md-code md-code-` ">tson</mark> etc.)</p><pre class="md-code md-code-``` java"><code class="java">

// Parse JSON into Element
NElement personJson = NElementParser.ofJson().parse(NPath.of("person.json"));

// Format and write XML to file
NElementFormat.ofPlainXml(personJson).println(NPath.of("person.xml"));
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="UD5AB4C8DE577211801315F91F1F13BF95F23FAE2" >
                        <h2 class="main-section1"><a href="#UD5AB4C8DE577211801315F91F1F13BF95F23FAE2">5 Expressions & Templates</a></h2>
                        <div class="text-card">
                        
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="UC60C1BB90FA902AF1401D36EAB3DCAE520C30543" >
                                <h3 class="main-section2"><a href="#UD5AB4C8DE577211801315F91F1F13BF95F23FAE2">5.1 NExpr</a></h3>
                                <div class="text-card">
                                NExpr is a powerful expression parser and evaluator designed to handle dynamic, runtime expressions within the Nuts ecosystem. It allows declaration of constants, variables, and functions, supports custom operators, and can evaluate expressions in a context-aware way. This makes it ideal for dynamic queries, runtime computation, scripting, and configuration-driven logic in Java applications — all while remaining type-safe, extensible, and embeddable.<pre class="md-code md-code-``` java"><code class="java">
NExprMutableDeclarations expr = NExprs.of().newMutableDeclarations();
NExprNode n1 = expr.parse("1+2*3").get();
NExprNode n = expr.parse("a.b&gt;1").get();
</code></pre><pre class="md-code md-code-``` java"><code class="java">
NExprs nExprs = NExprs.of();
NDocNExprVar v = new NDocNExprVar();
decl = nExprs.newMutableDeclarations(true, new NExprEvaluator() {
    @Override
    public NOptional&lt;NExprVar&gt; getVar(String varName, NExprDeclarations context2) {
        return NOptional.of(new MyVar());
    }
});

decl.declareConstant("cwd", System.getProperty("user.dir"));
decl.declareFunction("myfct", new MyFct());
</code></pre><pre class="md-code md-code-``` java"><code class="java">
NExprMutableDeclarations d = NExprs.of().newMutableDeclarations();
d.declareConstant("pi", Math.PI);
d.declareFunction("sin", (name, args, ctx) -&gt; {
    NExprNodeValue a = args.get(0);
    return Math.sin(asDouble(a.eval(ctx), rendererContext));
});

NOptional&amp;lt;NExprNode&gt; ne = d.parse("sin(x*pi)");
if (ne.isPresent()) {
    NExprNode node = ne.get();
    NDoubleFunction fct = x -&gt; {
        NOptional&amp;lt;Object&gt; r = node.eval(new NExprEvaluator() {
            @Override
            public NOptional&amp;lt;NExprVar&gt; getVar(String varName, NExprDeclarations ctx) {
                return "x".equals(varName)
                        ? Optional.of(x)
                        : NOptional.ofNamedEmpty("var " + varName);
            }
        });
        return NTxExprHelper.asDouble(r, rendererContext);
    };

    double result = fct.apply(0.5); // evaluates sin(0.5*pi)
}
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="UE96FDC9D5D2424A605A5185BF9FCC0EC0FF00AE1" >
                        <h2 class="main-section1"><a href="#UE96FDC9D5D2424A605A5185BF9FCC0EC0FF00AE1">6 Text Rendering & Models</a></h2>
                        <div class="text-card">
                        At the heart of Nuts' text rendering capabilities lies NTF (Nuts Text Format) — a structured, styled, and composable text model. NTF defines how text content, styles, and layout are represented, enabling you to build complex output (with colors, emphasis, alignment, structure, and more) in a way that is device-agnostic and output-agnostic.The NText API represents these styled text blocks, and NTextStyle describes how they appear (e.g., bold, italic, success, error). Because every renderer produces NText, different outputs — from simple styled strings to complex ASCII tables or banners — can be nested, combined, and transformed consistently.Once generated, NTF text can be rendered into multiple output formats:<ul class="md-ul"><li class="md-uli">✅ ANSI sequences – On POSIX-compatible terminals, NText is rendered as styled ANSI text. On Windows, Nuts uses Jansi to ensure the same result.</li><li class="md-uli">🌐 HTML – NText can also be rendered as HTML, enabling use in web pages or documentation. Tools like NSite (a static site generator built on Nuts/NAF) rely on this feature to transform NText blocks into HTML markup.</li><li class="md-uli">📦 Other targets – Because NTF is an abstract representation, it can be serialized to other formats or even stored as structured data for later rendering.</li></ul>Building on this foundation, NTextArt offers a versatile rendering framework that converts structured data, text, and even images into expressive visual representations. It provides specialized renderers for different visualization needs:<ul class="md-ul"><li class="md-uli">Text Renderers – Convert text into stylized ASCII art (e.g., figlets, banners).</li><li class="md-uli">Structured Renderers – Render structured data such as tables and trees.</li><li class="md-uli">Image Renderers – Transform raster images into ASCII-based art.</li></ul>Because all renderers output NText (based on NTF), their results can be further styled, composed with other messages, serialized, or rendered to different backends — all while remaining portable across platforms.
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="U05E96CE4B40EE286FE9CDF6FE65F26A2B07137E3" >
                                <h3 class="main-section2"><a href="#UE96FDC9D5D2424A605A5185BF9FCC0EC0FF00AE1">6.1 Nuts Text Format</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-1">Nuts Text Format (NTF)</H4><p class="md-phrase">The <b class="md-bold">Nuts Text Format (NTF)</b> is a lightweight, expressive markup language designed specifically to enhance command-line interface (CLI) output with rich, portable, and visually appealing formatting. It provides a powerful yet simple syntax that lets developers create colorful, structured, and semantically meaningful text that works seamlessly across different terminal environments and beyond.</p><H4 class="md-title-2">The Need for NTF</H4>Traditional terminal output often relies on plain text or embedded ANSI escape codes to achieve colors and styles. This approach has several drawbacks:<ul class="md-ul"><li class="md-uli"><p class="md-phrase"><b class="md-bold">Lack of readability:</b> Raw escape sequences are hard to read and maintain within source code.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Poor portability:</b> Different terminals support different levels of ANSI or control codes, leading to inconsistent rendering.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Limited structure:</b> Plain text and raw ANSI codes do not express document structure well (like lists, tables, sections).</p></li></ul>On the other hand, existing markup languages each have their own limitations for CLI contexts:<ul class="md-ul"><li class="md-uli"><p class="md-phrase"><b class="md-bold">HTML</b> is rich and flexible but too verbose and requires an HTML viewer, unsuitable for terminals.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Markdown</b> is easy to write and readable but lacks support for dynamic styling and rich terminal features.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Man pages (troff/groff)</b> provide basic terminal help formatting but are complex to author and limited in styling options.</p></li></ul><hr class="divider" class="md-hr"/><H4 class="md-title-2">What Makes NTF Unique?</H4><p class="md-phrase">NTF is crafted to fill this gap by being a <b class="md-bold">terminal-first markup format</b> that is both <b class="md-bold">human-readable and machine-processable</b>, with several key advantages:</p><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><b class="md-bold">Readable markup:</b> NTF syntax uses simple inline markers for colors, font styles, lists, tables, and sections, which are easy to write and understand.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Rich formatting:</b> Supports foreground and background colors, bold/italic/underline, code blocks, bullet and numbered lists, tables, links, and other structured elements.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Portability:</b> NTF content is <b class="md-bold">independent of the terminal's escape code specifics</b>. Instead, it is parsed and translated to the appropriate ANSI sequences or other target formats at runtime.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Multi-target rendering:</b> Beyond ANSI terminals, NTF can be converted to <b class="md-bold">Markdown</b> (for documentation or developer notes) and <b class="md-bold">HTML</b> (for web-based manuals), ensuring a unified authoring experience.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Context-awareness:</b> NTF rendering adapts automatically to the capabilities of the target output device or session configuration, allowing graceful degradation when color or style is not supported.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Easy toggling:</b> Users can enable or disable colored output through standard Nuts options or programmatically, without affecting the underlying markup.</p></li></ul><hr class="divider" class="md-hr"/><H4 class="md-title-2">NTF in Nuts Ecosystem</H4><p class="md-phrase">Within the <b class="md-bold">Nuts</b> toolbox, NTF plays a central role in delivering a consistent, high-quality user experience:</p><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><b class="md-bold">Command-line help system:</b> All command help, options, examples, and warnings in Nuts are authored in NTF. This allows help to be:</p><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><b class="md-bold">Colorful and well-structured</b> on capable terminals.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Plain-text friendly</b> when color is disabled.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Automatically exportable</b> to Markdown or HTML for documentation portals.</p></li></ul></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Output formatting:</b> When printing messages, lists, objects, or errors, Nuts can utilize NTF to add semantic structure and emphasis, improving clarity and user comprehension.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">Unified authoring:</b> Developers write output messages once in NTF and can be confident it will render correctly across all supported environments without manual adjustments.</p></li></ul><hr class="divider" class="md-hr"/><H4 class="md-title-2">How NTF compares to other formats:</H4><p class="md-phrase">NTF is specifically designed for <b class="md-bold">developer-friendly, portable, terminal-first output formatting</b>. It bridges the gap between simple text styling (like ANSI escape codes) and more advanced document-oriented formats (like Markdown or AsciiDoctor), making it uniquely suited for CLI applications.</p>The table below highlights how NTF compares to other common formats across key capabilities:<table class="table table-bordered table-striped"><tr><th>Feature</th><th><p class="md-phrase"> <b class="md-bold">NTF</b>                                                       </p></th><th><p class="md-phrase"> <b class="md-bold">ANSI Escape Codes</b> </p></th><th><p class="md-phrase"> <b class="md-bold">Markdown</b>    </p></th><th><p class="md-phrase"> <b class="md-bold">AsciiDoctor</b> </p></th><th><p class="md-phrase"> <b class="md-bold">HTML</b>       </p></th></tr><tr><td><p class="md-phrase"> <b class="md-bold">Colored output</b>                                </p></td><td>✅ Named colors, indexed and hex support</td><td>✅ Manual, code-based</td><td>❌ (Extensions needed)</td><td>✅ With roles/styles</td><td>✅ CSS/inline styles</td></tr><tr><td><p class="md-phrase"> <b class="md-bold">Styled text</b>                                   </p></td><td>✅ Bold, italic, underline, strikethrough</td><td>✅ Limited (manual control)</td><td>✅ Bold, italic</td><td>✅ Bold, italic, underline</td><td>✅ Full style control</td></tr><tr><td><p class="md-phrase"> <b class="md-bold">Semantic color tags</b> (e.g. <mark class="md-code md-code-` ">error</mark>, <mark class="md-code md-code-` ">warning</mark>) </p></td><td><p class="md-phrase"> ✅ Built-in mappings (<code class="md-code md-code-` ">##:red:word##</code>, <code class="md-code md-code-` ">##:info:word##</code>, etc.) </p></td><td>❌ None</td><td>❌ None</td><td>⚠️ Manual via roles</td><td>✅ Possible via class</td></tr><tr><td><p class="md-phrase"> <b class="md-bold">Nested/Combined styles</b>                                </p></td><td><p class="md-phrase"> ✅ Fully supported (e.g. <code class="md-code md-code-` ">##{:red:##{:bold:word}##}##</code>         </p></td><td>❌ Complex / fragile</td><td>❌ Not supported</td><td>✅ Supported</td><td>✅ Fully supported</td></tr><tr><td><p class="md-phrase"> <b class="md-bold">Structured sections</b> (titles, subtitles)       </p></td><td><p class="md-phrase"> ✅ NTF supports semantic headers (<code class="md-code md-code-` "># Title</code>, <code class="md-code md-code-` ">## Subtitle</code>)    </p></td><td>❌ None</td><td>✅ Basic headings</td><td>✅ Full document structure</td><td>✅ Rich document structure</td></tr><tr><td><p class="md-phrase"> <b class="md-bold">Lists (bullet, numbered)</b>                      </p></td><td>❌ Not yet</td><td>❌ None</td><td>✅ Yes</td><td>✅ Yes</td><td>✅ Yes</td></tr><tr><td><p class="md-phrase"> <b class="md-bold">Tables</b>                                        </p></td><td>❌ Not yet</td><td>❌ None</td><td>✅ Basic tables</td><td>✅ Rich tables</td><td>✅ Rich tables</td></tr><tr><td><p class="md-phrase"> <b class="md-bold">Syntax highlighting</b> (code snippets)           </p></td><td>✅ With language tag</td><td>❌ None</td><td>✅ (Limited, via extensions)</td><td>✅ With language tag</td><td>✅ Full, with JS/CSS</td></tr><tr><td><p class="md-phrase"> <b class="md-bold">Terminal rendering support</b>                    </p></td><td>✅ Auto-adapts (ANSI, plain, HTML, Markdown)</td><td>✅ Terminal only</td><td>❌ Not terminal-targeted</td><td>❌ Not terminal-targeted</td><td>❌ Not terminal-targeted</td></tr><tr><td><p class="md-phrase"> <b class="md-bold">Portability across environments</b>               </p></td><td>✅ Designed for CLI and convertible to HTML/Markdown</td><td>❌ Terminal only</td><td>✅ Editor/docs only</td><td>✅ Editor/docs only</td><td>✅ Web/browser only</td></tr><tr><td><p class="md-phrase"> <b class="md-bold">Ease of authoring for CLI output</b>              </p></td><td>✅ Very high (compact, readable, intuitive)</td><td>❌ Low (escape-heavy)</td><td>⚠️ Limited styling</td><td>⚠️ Verbose</td><td>❌ Too verbose for CLI</td></tr></table><hr class="divider" class="md-hr"/><H4 class="md-title-2">Summary</H4><p class="md-phrase">The Nuts Text Format is a <b class="md-bold">modern, terminal-optimized markup language</b> that:</p><ul class="md-ul"><li class="md-uli">Improves readability and maintainability of CLI output markup.</li><li class="md-uli">Enables richly formatted, colorful, and structured terminal output.</li><li class="md-uli">Supports conversion to Markdown and HTML for seamless documentation.</li><li class="md-uli">Enhances the Nuts ecosystem by unifying CLI and documentation presentation.</li></ul>NTF represents a thoughtful balance between simplicity, expressiveness, and portability, empowering Nuts users and developers to build sophisticated, professional command-line applications with minimal effort.<hr class="divider" class="md-hr"/><p class="md-phrase"><b class="md-bold"><mark class="md-code md-code-``` ">nuts</mark></b> comes up with a simple coloring syntax that helps writing better looking portable command line programs. standard output is automatically configured to accept the "Nuts Text Format" (NTF) syntax.  Though it remains possible to disable this ability using the --!color standard option (or programmatically,  see <b class="md-bold"><mark class="md-code md-code-``` ">nuts</mark></b> API documentation). NTF will be translated to the underlying terminal implementation using ANSI  escape code on linux/windows terminals if available.</p>Here after a showcase of available NTF syntax.<p><img src="assets/images/console/text-coloring-format-01.png" class="md-img img-fluid border" alt="text-coloring-format"></img></p><p><img src="assets/images/console/text-coloring-format-02.png" class="md-img img-fluid border" alt="text-coloring-format"></img></p><p><img src="assets/images/console/text-coloring-format-03.png" class="md-img img-fluid border" alt="text-coloring-format"></img></p><p><img src="assets/images/console/text-coloring-format-04.png" class="md-img img-fluid border" alt="text-coloring-format"></img></p><H4 class="md-title-1">Nuts Text Format Specification</H4><pre class="md-code md-code-``` "><code class="">
&lt;TOKEN&gt; S10: '##########'
&lt;TOKEN&gt; S9 : '#########'
&lt;TOKEN&gt; S8 : '########'
&lt;TOKEN&gt; S7 : '#######'
&lt;TOKEN&gt; S6 : '######'
&lt;TOKEN&gt; S5 : '#####'
&lt;TOKEN&gt; S4 : '####'
&lt;TOKEN&gt; S3 : '###'
&lt;TOKEN&gt; S2 : '##'
&lt;TOKEN&gt; S1 : '##'
&lt;TOKEN&gt; A3 : '\```'

&lt;RULE&gt;  S2 ':' KEY ':' ANYTHING S2
&lt;RULE&gt;  S2 '{:' WORD ANYTHING S2
&lt;RULE&gt;  13 ANYTHING A3

</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U7006C3252A3013C9F564A0D965CE5A63AF0A0E1E" >
                                <h3 class="main-section2"><a href="#UE96FDC9D5D2424A605A5185BF9FCC0EC0FF00AE1">6.2 Rendering Text</a></h3>
                                <div class="text-card">
                                Bring your CLI, logs, or console output to life with NTextArt. Render text as classic ASCII banners, pixel-style visuals, or even image-like representations, with multiple renderers at your fingertips — all workspace-aware and fully embeddable.<H4 class="md-title-2">Basic Usage</H4><pre class="md-code md-code-``` java"><code class="java">
    NTextArt art = NTextArt.of();
NText text = NText.of("hello world");
    NOut.println(art.getTextRenderer("figlet:standard").get().render(text));
</code></pre>Output:<pre class="md-code md-code-``` "><code class="">
  _                _    _                                             _        _
 | |              | |  | |                                           | |      | |
 | |__      ___   | |  | |    ___       __      __    ___     _ __   | |    __| |
 | '_ \    / _ \  | |  | |   / _ \      \ \ /\ / /   / _ \   | '__|  | |   / _` |
 | | | |  |  __/  | |  | |  | (_) |      \ V  V /   | (_) |  | |     | |  | (_| |
 |_| |_|   \___|  |_|  |_|   \___/        \_/\_/     \___/   |_|     |_|   \__,_|

</code></pre>You can choose from multiple built-in figlet renderers or even use your own.<pre class="md-code md-code-``` java"><code class="java">
    NTextArt art = NTextArt.of();
    
    NOut.println(art.getImageRenderer("pixel:standard").get()
            .setFontSize(20) .setOutputColumns(60) .render(text));
</code></pre>Output:<pre class="md-code md-code-``` "><code class="">

 █         ░██   ███                             ███      █
 █           █    ▓█                              ░█      █
 █ █▒  ░██   █    ▓█    █▒       █   █  █▓  ██░█░ ░█   ▒█ █
 █▓▓█░░█ █░  █    ▓█  ░█ ▓▒      █ █ █░█ ▓▓ ██▓▓  ░█   █░▒█
 █  █░█████  █    ▓█  ▓█ ▒█      █▓█ ▓▒█ ░█ ██    ░█  ░█  █
 █  █░ █     ██   ▓█   █ █░      ██░█▓ █ █▒ ██    ░█░ ░█░██
 ▓  ▓░ ░▓▓    ▓▓   ▓▓░  ▓░       ░▓ ▓   ▓▒  ▒▒     ░▓▓ ░▓ ▓
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U4CB3A42D36540B68E76FC2496E13537A897C27E0" >
                                <h3 class="main-section2"><a href="#UE96FDC9D5D2424A605A5185BF9FCC0EC0FF00AE1">6.3 Rendering Tables</a></h3>
                                <div class="text-card">
                                <p class="md-phrase">One of the most powerful text rendering features in <mark class="md-code md-code-` ">NAF</mark> is its ability to render structured tables directly in the terminal. This is made possible through the NTextArt API, which can render tabular data with automatic alignment, wrapping, spanning, and per-cell styling — all while remaining fully compatible with Nuts’ messaging and text system (NText, NMsg, NOut, etc.).</p>Unlike ad-hoc printf-based formatting, NTextArt tables are aware of structure, style, and layout. They handle complex cases such as multiline cells, column and row spanning, per-cell styling, and even semantic rendering (e.g., italic, success, error) without losing readability.<H4 class="md-title-2">Basic Usage</H4>To render a table, create a NMutableTableModel, populate it with rows and optional headers, and pass it to a NTextArtTableRenderer.<pre class="md-code md-code-``` java"><code class="java">
NMutableTableModel table = NTableModel.of()
.addHeaderRow(NText.of("Name"), NText.of("Status"))
.addRow(NText.of("adam"), NText.ofStyled("active", NTextStyle.italic()))
.addRow(NText.of("eve"),  NText.ofStyled("inactive", NTextStyle.success()));

NOut.println(NTextArt.of().getTableRenderer().get().render(table));
</code></pre>Output:<pre class="md-code md-code-``` "><code class="">
+------+----------+
| Name | Status   |
+------+----------+
| adam | active   |
| eve  | inactive |
+------+----------+

</code></pre>You can choose from multiple built-in renderers (e.g. "table:ascii", "table:spaces") or register your own custom renderer.<H4 class="md-title-2">Advanced Features</H4>Cells can contain multiple lines of text, and the renderer will automatically adjust row heights:<pre class="md-code md-code-``` java"><code class="java">
NMutableTableModel table = NTableModel.of()
    .addRow(NText.of("adam\nwas\nhere"), NText.of("active"))
    .addRow(NText.of("eve"), NText.of("inactive"));
</code></pre>Output:<pre class="md-code md-code-``` "><code class="">
+------------------------+
| adam                  |
| was                   |
| here                  |
+------------+----------+
| adam       | adam     |
| here       | is here  |
+------------+----------+
</code></pre><H4 class="md-title-3">Column Spanning (colspan)</H4>Cells can span across multiple columns, just like in HTML tables:<pre class="md-code md-code-``` java"><code class="java">
NMutableTableModel table = NTableModel.of()
    .addRow(NText.of("adam\nwas\nhere"))
    .addRow(NText.of("adam\nhere"), NText.of("adam\nis\nhere"))
    .setCellColSpan(0, 0, 2); // first cell spans 2 columns

</code></pre>Result:<pre class="md-code md-code-``` "><code class="">
+------------------------+
| adam                  |
| was                   |
| here                  |
+------------+----------+
| adam       | adam     |
| here       | is here  |
+------------+----------+
</code></pre><H4 class="md-title-3">Row Spanning (rowspan)</H4>Cells can also span vertically across rows:<pre class="md-code md-code-``` java"><code class="java">
NMutableTableModel table = NTableModel.of()
    .addRow(NText.of("tall\ncell\nvery\ntall"), NText.of("short"))
    .addRow(NText.of("another"))
    .setCellRowSpan(0, 0, 2); // span vertically over 2 rows
</code></pre><H4 class="md-title-3">Mixed Column Counts</H4>Rows can have different numbers of columns. The renderer handles layout automatically:<pre class="md-code md-code-``` java"><code class="java">
NMutableTableModel table = NTableModel.of()
    .addRow(NText.of("adam\nwas\nhere"))
    .addRow(NText.of("adam\nhere"), NText.of("adam\nis\nhere"), NText.of(3))
    .setCellColSpan(0, 0, 3);
</code></pre><H4 class="md-title-3">Per-Cell Styling</H4>Cells can carry formatting information using NTextStyle. This enables bold, italic, color, semantic meaning (e.g., success, error), and more.<pre class="md-code md-code-``` java"><code class="java">
.addRow(NText.of("adam"), NText.ofStyled("active", NTextStyle.italic()))
.addRow(NText.of("eve"),  NText.ofStyled("inactive", NTextStyle.success()));
</code></pre><H4 class="md-title-2">Multiple Renderers</H4>Different renderers can be used for different table aesthetics or output contexts. For example:<pre class="md-code md-code-``` java"><code class="java">
NOut.println(art.getTableRenderer("table:spaces").get().render(table));
</code></pre>This renderer uses space padding instead of ASCII borders — useful for compact, plain-text output.You can also iterate over all registered renderers:<pre class="md-code md-code-``` java"><code class="java">
for (NTextArtTableRenderer renderer : art.getTableRenderers()) {
    NOut.println(renderer.getName() + "::");
    NOut.println(renderer.render(table));
}
</code></pre><H4 class="md-title-2">Performance Considerations</H4>Rendering tables is efficient, but when dealing with thousands of rows, consider paginating or streaming rows instead of rendering all at once.Cell layout calculations (especially with spanning) are cached internally to minimize overhead.<H4 class="md-title-2">Why NTextArt Tables Matter</H4>You might ask: why not just use System.out.printf() or format strings manually?Because NTextArt tables are semantic and structure-aware:<ul class="md-ul"><li class="md-uli">They understand cell spanning, multiline content, and style.</li><li class="md-uli">They integrate seamlessly with NText, NMsg, and NOut.</li><li class="md-uli">They’re renderer-agnostic — the same model can be rendered as ASCII, space-aligned text, or even graphical pixel art in the future.</li><li class="md-uli">They form a foundation for higher-level features like search results, dependency trees, and diagnostics in Nuts CLI.</li></ul>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U1B0751E87A168077C7AD2EA24CDCDB0E389A2760" >
                                <h3 class="main-section2"><a href="#UE96FDC9D5D2424A605A5185BF9FCC0EC0FF00AE1">6.4 Rendering Trees</a></h3>
                                <div class="text-card">
                                For hierarchical data like dependency graphs or process hierarchies:<pre class="md-code md-code-``` java"><code class="java">
NTreeNode root = new MyNode("Root", List.of(
    new MyNode("Child 1"),
    new MyNode("Child 2", List.of(
        new MyNode("Grandchild A"),
        new MyNode("Grandchild B")
    ))
));

NOut.println(NTextArt.of().getTreeRenderer().get().render(root));
</code></pre>Result :<pre class="md-code md-code-``` "><code class="">
Root
├─ Child 1
└─ Child 2
   ├─ Grandchild A
   └─ Grandchild B
</code></pre>NTextArt integrates seamlessly with tree rendering as well. You can render a tree whose nodes themselves contain rendered tables:<pre class="md-code md-code-``` java"><code class="java">

class MyNode implements NTreeNode {
    int value;
    public MyNode(int value) { this.value = value; }
    @Override
    public NText value() {
        return art.getTableRenderer().get().render(
            NTableModel.of().addRow(NText.of(value))
        );
    }
    @Override
    public List&lt;NTreeNode&gt; children() {
        return value &lt; 3 ? Arrays.asList(value+1, value+2).stream().map(MyNode::new).collect(Collectors.toList()) : List.of();
    }
}
NTreeNode tree = new MyNode(1);
NOut.println(art.getTreeRenderer().get().render(tree));

</code></pre>Result: <pre class="md-code md-code-``` "><code class="">
   ╭─╮
   │1│
   ╰─╯
   ├── ╭─╮
   │   │2│
   │   ╰─╯
   │   ├── ╭─╮
   │   │   │3│
   │   │   ╰─╯
   │   └── ╭─╮
   │       │4│
   │       ╰─╯
   └── ╭─╮
       │3│
       ╰─╯

</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="U6413499FAE4672C548D930B297101FD249F37A66" >
                        <h2 class="main-section1"><a href="#U6413499FAE4672C548D930B297101FD249F37A66">7 IO & Filesystem Abstractions</a></h2>
                        <div class="text-card">
                        The Nuts library offers a comprehensive and flexible input/output system designed for modern CLI and application needs, including:<ul class="md-ul"><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NIn</mark>: Simplifies and unifies input handling, supporting both interactive and programmatic input sources.</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NOut</mark>: The standard output stream abstraction supporting colorful, structured, and formatted output that respects the current session context and output format (plain text, JSON, XML, tables, etc).</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NErr</mark>: Dedicated error output stream, separate from standard output, ensuring proper logging and error visibility.</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NTrace</mark>: Specialized output stream for trace/debug information that is only displayed when trace mode is enabled, helping users debug without cluttering normal output.</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NLog</mark>: A logging interface integrating with Nuts' session and workspace model to produce contextual logs with flexible verbosity and output controls.</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NMsg</mark>: A message abstraction enabling rich, multi-language, and parameterized messages with support for localization and structured formatting.</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NTF</mark>: Nuts Text Format — a powerful formatting system that extends standard text output with features like color, styles, and structured data rendering, allowing consistent and attractive CLI outputs.</p></li></ul>Together, these components create a rich and developer-friendly IO system, enabling:<ul class="md-ul"><li class="md-uli">Colorful and readable console output.</li><li class="md-uli">Structured output formats automatically adapting to context.</li><li class="md-uli">Clear separation of standard, error, and debug outputs.</li><li class="md-uli">Localizable and parameterized messages.</li><li class="md-uli">Simplified user input handling.</li></ul>This system is integrated tightly with the Nuts session concept, meaning output behavior automatically adapts to user preferences, environment, and command-line options, making CLI tools more usable and professional.The Nuts ecosystem provides a comprehensive set of tools designed to simplify and unify file and resource management across different protocols and formats.What Nuts Supports<ul class="md-ul"><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NPath</mark>: A versatile path abstraction that extends beyond traditional file system paths. It supports local files, URLs (HTTP/HTTPS), classpath resources, and Maven-style artifact resources. This unified API enables seamless access and manipulation of diverse resource types.</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NCp</mark>: An advanced copying utility capable of copying files and directories with support for validation, progress tracking, overwrite policies, and more. It provides robust features to reliably transfer resources locally or remotely.</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NCompress</mark> / NUncompress: Utilities to compress and decompress files and folders using popular archive formats such as ZIP and TAR. These tools handle format detection, filtering, and extraction/compression workflows transparently.</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">NDigest</mark>: A digest computation tool for calculating checksums and hashes (e.g., SHA-256) of files, streams, and folders. It supports integrity verification and recursive digesting to ensure file content authenticity.</p></li></ul>Together, these components offer a flexible and powerful framework to interact with files and resources efficiently, whether for local development or distributed environments.    
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="U5D5EA461AAEC2A796A8B29738BEF329E9089E4AA" >
                                <h3 class="main-section2"><a href="#U6413499FAE4672C548D930B297101FD249F37A66">7.1 NOut Standard output</a></h3>
                                <div class="text-card">
                                <p class="md-phrase">The <mark class="md-code md-code-` ">NOut</mark> class is a simple and powerful utility for writing to the standard output in Nuts. It provides a consistent and extensible way to print text, formatted messages, and structured data.</p><p class="md-phrase">By default, <mark class="md-code md-code-` ">NOut</mark> delegates to the session's configured output stream, defined as an <mark class="md-code md-code-` ">NPrintStream</mark> in the current <mark class="md-code md-code-` ">NSession</mark>. This stream is <b class="md-bold">customizable</b>, <b class="md-bold">structured</b>, and <b class="md-bold">NTF-aware</b>, making it suitable for both human-readable and machine-readable outputs (JSON, XML, etc.).</p><p class="md-phrase">Unlike <code class="md-code md-code-` ">System.out</code>, <mark class="md-code md-code-` ">NOut</mark> provides enhanced capabilities:</p><ul class="md-ul"><li class="md-uli"><p class="md-phrase">Intelligent rendering of objects (beyond basic <code class="md-code md-code-` ">toString()</code>),</p></li><li class="md-uli"><p class="md-phrase">Colorized and formatted output via <b class="md-bold">NTF (Nuts Text Format)</b>,</p></li><li class="md-uli">Support for various structured formats (e.g., JSON, YAML, XML, TSON),</li><li class="md-uli">Support for formatted messages with placeholders,</li><li class="md-uli">Table and tree rendering.</li></ul><H4 class="md-title-2">Basic Usage</H4>The simplest way to print a message to the console:<pre class="md-code md-code-``` java"><code class="java">
    Nuts.require();
    NOut.println("Hello");
</code></pre><H4 class="md-title-2">Using NTF</H4>NTF enables you to add rich formatting and colorization:<pre class="md-code md-code-``` java"><code class="java">
    NOut.println("##Hello colored## ##:_:Hello underlined## ");
    NOut.println("##:yellow:Hello in yellow##");
    NOut.println("##:warn:this is a warning##");
    NOut.println("##:fxFF0000:this is a red message##");
</code></pre><H4 class="md-title-2">Rendering structured output</H4><p class="md-phrase"><mark class="md-code md-code-` ">NOut</mark> can render structured output based on the active format in the <mark class="md-code md-code-` ">NSession</mark>.</p><pre class="md-code md-code-``` java"><code class="java">
    class Customer{String id;String name;}
    Customer customer1,customer2,customer3; ...
    // configure le current output to render objects as json
    // to display the curstomer list as a json array
    NSession.of().json();
    NOut.println(Arrays.asList(customer1,customer2,customer3));

    // you can do the same for yaml,tson,xml,table and tree (as formats)
    NSession.of().tree();
    NOut.println(Arrays.asList(customer1,customer2,customer3));
</code></pre><H4 class="md-title-2">Formatted Messages</H4>You can build formatted messages using NMsg, with placeholder support and type-aware formatting:<pre class="md-code md-code-``` java"><code class="java">
    NOut.println(NMsg.of("this is a %s message that is %s %% beautiful",true,100));
</code></pre>Values such as booleans and numbers are rendered with distinct styles (e.g., colors) for better readability.Or you can build your own styled arguments :<pre class="md-code md-code-``` java"><code class="java">
    NOut.println(NMsg.of("this is a %s ",NMsg.ofStyledPrimary1("message")));
</code></pre><H4 class="md-title-2">Working with Tables</H4><p class="md-phrase">To have full control over tabular output, use <mark class="md-code md-code-` ">NMutableTableModel</mark>:</p><pre class="md-code md-code-``` java"><code class="java">
    NSession session=...;
    Object a,b,c,d; ...
    NMutableTableModel m = NTableModel.of();
    m.newRow().addCells(a,b,c,d);
    NOut.println(m);
</code></pre><H4 class="md-title-2">Working with Trees</H4><p class="md-phrase">To render hierarchical structures, you can implement a custom <mark class="md-code md-code-` ">NTreeModel</mark>:</p><pre class="md-code md-code-``` java"><code class="java">
    NOut.println(
        new NTreeModel() {
            @Override
            public Object getRoot () {
                return "/";
            }
        
            @Override
            public List&lt;NDependencyTreeNodeAndFormat&gt; getChildren (Object node){
                if ("/".equals(node)) {
                    return Arrays.asList(1,2,3);
                }
                return Arrays.asList();
            }
        }
        );
</code></pre><H4 class="md-title-2">Summary</H4><p class="md-phrase">The <mark class="md-code md-code-` ">NOut</mark> class provides a robust and extensible mechanism for console output in the Nuts ecosystem. Whether you're logging simple messages, displaying structured data, or building CLI tools, NOut ensures consistent and powerful rendering—fully aligned with Nuts' NTF and output formatting infrastructure.</p>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U14773EED826C7F775FFC3AC22946D7176C5821FA" >
                                <h3 class="main-section2"><a href="#U6413499FAE4672C548D930B297101FD249F37A66">7.2 NErr Standard Error</a></h3>
                                <div class="text-card">
                                <p class="md-phrase"><mark class="md-code md-code-` ">NErr</mark> is the error-stream counterpart to <mark class="md-code md-code-` ">NOut</mark>, providing structured, colored, and format-aware error output in the <b class="md-bold">Nuts</b> ecosystem.</p><p class="md-phrase">It writes to the <b class="md-bold">standard error stream</b> configured in the current <mark class="md-code md-code-` ">NSession</mark>, represented by a customizable <mark class="md-code md-code-` ">NPrintStream</mark>. Like <mark class="md-code md-code-` ">NOut</mark>, this stream is fully <b class="md-bold">NTF-aware</b> and supports a wide range of formats such as JSON, YAML, TSON, XML, tree, and table.</p><H4 class="md-title-2">Key Features</H4><ul class="md-ul"><li class="md-uli"><p class="md-phrase">Delegates to <code class="md-code md-code-` ">NSession.err()</code> (an <mark class="md-code md-code-` ">NPrintStream</mark>)</p></li><li class="md-uli"><p class="md-phrase">Fully supports <b class="md-bold">NTF (Nuts Text Format)</b> for colored and styled messages</p></li><li class="md-uli">Supports structured output in multiple formats</li><li class="md-uli"><p class="md-phrase">Works seamlessly with <mark class="md-code md-code-` ">NMsg</mark>, <mark class="md-code md-code-` ">NMutableTableModel</mark>, and <mark class="md-code md-code-` ">NTreeModel</mark></p></li><li class="md-uli">Ideal for logging warnings, errors, diagnostics, and debugging information</li></ul><hr class="divider" class="md-hr"/><H4 class="md-title-2">Basic Example</H4><pre class="md-code md-code-``` java"><code class="java">
Nuts.require();
NErr.println("An error occurred");
</code></pre><H4 class="md-title-2">Styled Error Messages</H4>You can leverage NTF for expressive and styled output:<pre class="md-code md-code-``` java"><code class="java">
NErr.println("##:error:Something went wrong!##");
NErr.println("##:warn:Warning:## Potential issue detected");
NErr.println("##:fxFF0000:Critical failure##");
</code></pre><H4 class="md-title-2">Structured Error Reporting</H4>Just like with NOut, you can render structured error data using the current session format:<pre class="md-code md-code-``` java"><code class="java">
NSession.of().json();
NErr.println(errorList); // errorList = List&lt;ErrorDetail&gt;
</code></pre>You can switch to any other supported format (yaml, xml, table, tree, tson, etc.) using:<pre class="md-code md-code-``` java"><code class="java">
NSession.of().table();
NErr.println(errorList);
</code></pre><H4 class="md-title-2">Formatted Diagnostic Messages</H4><p class="md-phrase">Use <mark class="md-code md-code-` ">NMsg</mark> to build dynamic, strongly typed error messages:</p><pre class="md-code md-code-``` java"><code class="java">
NErr.println(NMsg.of("Task %s failed after %d attempts", "SyncJob", 3));
</code></pre><H4 class="md-title-2">Use Cases</H4><ul class="md-ul"><li class="md-uli">Displaying runtime errors or exceptions in a user-friendly way</li><li class="md-uli">Emitting machine-readable diagnostics for automation tools</li><li class="md-uli">Rendering hierarchical error trees or tabular summaries</li><li class="md-uli">Debugging output during CLI tool development</li></ul><H4 class="md-title-2">Summary</H4><p class="md-phrase"><mark class="md-code md-code-` ">NErr</mark> brings all the expressive power of NOut to the standard error stream. Whether you're showing simple warnings or structured diagnostic trees, <mark class="md-code md-code-` ">NErr</mark> ensures your error messages are readable, styled, and format-compliant with the Nuts session configuration.</p>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U67F14C6EBA817C7CF85892D4705B3A0B1CF87AC7" >
                                <h3 class="main-section2"><a href="#U6413499FAE4672C548D930B297101FD249F37A66">7.3 NTrace, the output companion</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-1"><p class="md-phrase"><mark class="md-code md-code-` ">NTrace</mark> — Conditional Trace Output Utility</p></H4><p class="md-phrase"><mark class="md-code md-code-` ">NTrace</mark> is a structured output utility in <b class="md-bold">Nuts</b> used to emit <b class="md-bold">optional diagnostic or trace information</b> to the standard output stream. It behaves like <mark class="md-code md-code-` ">NOut</mark>, but only prints output when <b class="md-bold">tracing is explicitly enabled</b> in the current session.</p><hr class="divider" class="md-hr"/><H4 class="md-title-2"><p class="md-phrase">🔍 When to Use <mark class="md-code md-code-` ">NTrace</mark></p></H4><p class="md-phrase">Use <mark class="md-code md-code-` ">NTrace</mark> to provide <b class="md-bold">optional messages</b> that :</p><ul class="md-ul"><li class="md-uli">Help during development or debugging,</li><li class="md-uli">Provide insights into internal steps,</li><li class="md-uli">Are not critical and should not mix with standard output (NOut) or error messages (NErr).</li></ul><p class="md-phrase">Unlike <mark class="md-code md-code-` ">NOut</mark>, <mark class="md-code md-code-` ">NTrace</mark> output is optional and controlled by the trace flag, so it won’t clutter output if tracing is turned off.</p><H4 class="md-title-2">Output Destination</H4><p class="md-phrase">> <b class="md-bold">Note:</b>   > <mark class="md-code md-code-` ">NTrace</mark> writes to <code class="md-code md-code-` ">NSession.out()</code> — the same output stream used by <mark class="md-code md-code-` ">NOut</mark>.   > In contrast, <mark class="md-code md-code-` ">NErr</mark> writes to <code class="md-code md-code-` ">NSession.err()</code>.</p>This means trace messages can be redirected, styled, and formatted consistently with standard output, but only appear when tracing is active.<hr class="divider" class="md-hr"/><H4 class="md-title-2">Trace Mode Behavior</H4>Trace is enabled by default.To disable trace output, users can:<ul class="md-ul"><li class="md-uli">Pass --trace=false or --!trace on the command line:</li></ul><pre class="md-code md-code-``` bash"><code class="bash">
nuts --trace=false my-app 
nuts --!trace my-app 
</code></pre><ul class="md-ul"><li class="md-uli">Programmatically disable it in the session:</li></ul><pre class="md-code md-code-``` java"><code class="java">
NSession.of().setTrace(false);
</code></pre>When trace is disabled, all calls to NTrace.println(...) are ignored silently.<hr class="divider" class="md-hr"/><H4 class="md-title-2">Example Usage</H4><pre class="md-code md-code-``` "><code class="">
Nuts.require();

// This will print only if trace is enabled (default is true)
NTrace.println("Loading configuration from default path...");
</code></pre><H4 class="md-title-2">Features (Same as NOut)</H4><p class="md-phrase"><mark class="md-code md-code-` ">NTrace</mark> supports the complete feature set of <mark class="md-code md-code-` ">NOut</mark>, including:</p><ul class="md-ul"><li class="md-uli">NTF formatting for colors and styling,</li><li class="md-uli">Structured rendering (e.g., JSON, YAML, XML, TSON, table, tree),</li><li class="md-uli">Formatted messages using NMsg,</li><li class="md-uli">Integration with the current session’s output configuration.</li></ul><H4 class="md-title-2">Best Practices</H4>Use NTrace to display less relevant or verbose messages that:<ul class="md-ul"><li class="md-uli">Are helpful for end users who want to better understand what the tool is doing,</li><li class="md-uli">Should not appear during normal usage but may provide useful context when verbosity is desired (e.g., progress steps, skipped actions, fallback behavior),</li><li class="md-uli">Can be safely ignored without impacting the understanding of the main output.</li></ul><p class="md-phrase">> <b class="md-bold">Note:</b>   > <mark class="md-code md-code-` ">NTrace</mark> is not a developer logging mechanism. > For internal developer-oriented logging, use NLog.</p>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U29FB0D0A31CE9674406E73E82856ADB8135219B8" >
                                <h3 class="main-section2"><a href="#U6413499FAE4672C548D930B297101FD249F37A66">7.4 NIn for simplified Input</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-1"><p class="md-phrase"><mark class="md-code md-code-` ">NIn</mark> — Structured Input Utility</p></H4><p class="md-phrase">The <mark class="md-code md-code-` ">NIn</mark> class is the <b class="md-bold">interactive input</b> utility of the <b class="md-bold">Nuts</b> platform. It provides a simple and consistent interface to read from the <b class="md-bold">standard input stream</b> (<code class="md-code md-code-` ">NSession::in()</code>), with built-in support for prompts, password masking, and type-safe values.</p><H4 class="md-title-2">Basic Input Reading</H4><H4 class="md-title-3">Reading a Line</H4><pre class="md-code md-code-``` java"><code class="java">
String line = NIn.readLine();
</code></pre>Reads a full line from the user input.You can also provide a prompt using an NMsg:<pre class="md-code md-code-``` java"><code class="java">
String name = NIn.readLine(NMsg.ofC("Enter your ##name##: "));
</code></pre><H4 class="md-title-3">Reading a Password</H4><pre class="md-code md-code-``` java"><code class="java">
char[] pwd = NIn.readPassword();
</code></pre>Reads a password without echoing characters  (as far as the required extensions are loaded) to the terminal.With prompt:<pre class="md-code md-code-``` java"><code class="java">
char[] pwd = NIn.readPassword(NMsg.ofPlain("Password: "));
</code></pre><H4 class="md-title-2">Reading a Literal</H4><pre class="md-code md-code-``` java"><code class="java">
NLiteral lit = NIn.readLiteral();
</code></pre><p class="md-phrase">Reads a string input and wraps it in an <mark class="md-code md-code-` ">NLiteral</mark>, allowing you to safely extract typed values.</p><pre class="md-code md-code-``` java"><code class="java">
NLiteral lit = NIn.readLiteral(NMsg.ofPlain("Enter a number: "));
int value = lit.asInt().get();
</code></pre><p class="md-phrase">use the <code class="md-code md-code-` ">NLiteral::asXYZ</code> series of methods to convert the string input to common types like <mark class="md-code md-code-` ">double</mark>, <mark class="md-code md-code-` ">boolean</mark>, etc...</p><pre class="md-code md-code-``` java"><code class="java">
NLiteral lit = NIn.readLiteral(NMsg.ofPlain("Enter a number: "));
double value = lit.asDouble().get();
</code></pre><H4 class="md-title-2">Interactive and Typed Input with NAsk</H4>For complex or type-safe input, NIn.ask() (or NAsk.of()) provides a fluent API to build interactive prompts with support for:<ul class="md-ul"><li class="md-uli">Custom messages,</li><li class="md-uli">Typed inputs (String, int, boolean, enum, etc.),</li><li class="md-uli">Default values,</li><li class="md-uli">Validators,</li><li class="md-uli">Accepted values,</li><li class="md-uli">Password input,</li><li class="md-uli">"Remember me" options,</li><li class="md-uli">Custom parsing and formatting.</li></ul>It will re-prompt indefinitely until a valid input is provided, based on type and validation constraints, or until the user cancels the prompt (e.g., by sending an interrupt like Ctrl+C or entering an empty value when allowed).NAsk will re-prompt indefinitely in an interactive loop until:<ul class="md-ul"><li class="md-uli">A valid value is provided (based on expected type and validation),</li><li class="md-uli">Or the user explicitly cancels the prompt (e.g., by interrupting input or when input is blank and optional). This ensures reliable and robust user interaction with clear guidance and fallback behavior.</li></ul><H4 class="md-title-3">Password Input Example</H4><pre class="md-code md-code-``` java"><code class="java">
char[] password = NAsk.of()
.forPassword(NMsg.ofPlain("Password for user " + user))
.getValue();
</code></pre>Prompts for a password securely (input not echoed), and returns a char[].<H4 class="md-title-3">Boolean Confirmation with Context</H4><pre class="md-code md-code-``` java"><code class="java">
boolean usePcp = NAsk.of()
.forBoolean(
NMsg.ofPlain(
remote
? "Use PCP users the same as the instances hosts users?"
: "Use PCP user as the same as the current user?"
)
)
.getValue();
</code></pre>Prompts the user with a yes/no question.<H4 class="md-title-3">"Remember Me" with Default</H4><pre class="md-code md-code-``` java"><code class="java">
boolean override = NAsk.of()
    .setDefaultValue(true)
    .setRememberMeKey(
        rememberMeKey == null ? null : ("Override." + rememberMeKey)
    )
    .forBoolean(
        NMsg.ofC("Override %s?",
            NText.ofStyled(
                betterPath(out.toString()),
                NTextStyle.path()
            )
        )
    )
    .getBooleanValue();
</code></pre>This example:<ul class="md-ul"><li class="md-uli">Proposes a default answer (true),</li><li class="md-uli">Persists the answer under the given key (rememberMeKey), so the question may be skipped next time,</li><li class="md-uli">Uses styled output in the question message.</li></ul><H4 class="md-title-3">Custom Validation Example</H4><pre class="md-code md-code-``` java"><code class="java">
String mainClass = NAsk.of()
    .forString(NMsg.ofNtf("Enter the name or index:"))
    .setValidator((value, question) -&gt; {
        Integer index = NLiteral.of(value).asInt().orNull();
        if (index != null &amp;&amp; index &gt;= 1 &amp;&amp; index &lt;= possibleClasses.size()) {
            return possibleClasses.get(index - 1);
        }
        if (possibleClasses.contains(value)) {
            return value;
        }
        throw new NValidationException(); // Triggers re-prompt
    })
    .getValue();
</code></pre><H4 class="md-title-3">NAsk Supported NAsk Features</H4><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">forString(...)</code>	Prompt for a String</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">forInt(...)</code>	Prompt for an int</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">forDouble(...)</code>	Prompt for a double</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">forBoolean(...)</code>	Prompt for a boolean (yes/no, true/false)</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">forEnum(Class&lt;E&gt; enumType, ...)</code>	Prompt for an enum value</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">forPassword(...)</code>	Prompt for a password (char[])</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">setDefaultValue(T)</code>	Sets a default value used when input is blank</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">setHintMessage(NMsg)</code>	Displays hint under the question</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">setAcceptedValues(List&lt;Object&gt;)</code>	Restricts accepted values and may display suggestions</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">setRememberMeKey(String)</code>	Automatically stores and reuses the answer based on a key</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">setValidator(NAskValidator&lt;T&gt;)</code>	Adds input validation logic</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">setParser(NAskParser&lt;T&gt;)</code>	Custom parsing from String to T</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">setFormat(NAskFormat&lt;T&gt;)</code>	Custom formatting of expected values for user display</p></li></ul><H4 class="md-title-3">NAsk Re-prompting Behavior</H4>NAsk will loop until a valid answer is provided, according to:<ul class="md-ul"><li class="md-uli">Type expectations (e.g., integer, enum),</li><li class="md-uli">Custom validators (if any),</li><li class="md-uli">Accepted values (if defined).</li></ul>This ensures robust, user-friendly interaction without premature failure.
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U118074A157ABAED5AA71630879517A9AE9E884BD" >
                                <h3 class="main-section2"><a href="#U6413499FAE4672C548D930B297101FD249F37A66">7.5 NPath</a></h3>
                                <div class="text-card">
                                NPath is a powerful abstraction introduced by nuts to handle paths in a uniform way, similar to Java's URL, but with extended capabilities, built-in protocol support, and a fluent, intuitive API.<H4 class="md-title-1">Key Features</H4><ul class="md-ul"><li class="md-uli">Unified path abstraction for local files, URLs, classpath resources, and artifacts.</li><li class="md-uli">Protocol-aware: supports file, http(s), classpath, and resource URLs.</li><li class="md-uli">Stream access, input/output helpers, and file tree navigation.</li><li class="md-uli">Support for creating temporary files/folders and content manipulation.</li></ul><H4 class="md-title-2">Supported Protocols</H4><ul class="md-ul"><li class="md-uli">File paths: "/path/to/resource", "C:\path\to\resource"</li><li class="md-uli">File URLs: "file:/path/to/resource", "file:C:/path/to/resource"</li><li class="md-uli">HTTP/HTTPS URLs: "http://...", "https://..."</li><li class="md-uli">Ssh URLs: "ssh://user@server/path/to/resource"</li><li class="md-uli">Classpath: "classpath:/path/to/resource" (requires classloader)</li><li class="md-uli">Resource paths: "resource://group:artifact#version/path/to/resource"</li></ul><H4 class="md-title-2">Creating an NPath</H4><pre class="md-code md-code-``` java"><code class="java">
NPath localFile = NPath.of("C:/path/to/resource");
</code></pre><H4 class="md-title-2">Other creation methods include:</H4><pre class="md-code md-code-``` java"><code class="java">
NPath.of(URL url);
NPath.of(File file);
NPath.of(Path path);
NPath.of(String path, ClassLoader cl);
NPath.of(NConnexionString connection);
</code></pre><H4 class="md-title-2">Special Locations</H4><pre class="md-code md-code-``` java"><code class="java">
NPath.ofUserHome();         // User home directory
NPath.ofUserDirectory();    // Current working directory
NPath.ofUserStore(type);    // User store path
NPath.ofSystemStore(type);  // System store path
</code></pre><H4 class="md-title-2">NPath.ofUserStore(NStoreType storeType)</H4>Returns the path to the user-specific store folder of the given storeType.This method is used to access various predefined storage locations that conform to standard OS conventions (such as XDG Base Directory Specification on Linux). These locations are used to store user-specific data in structured, OS-compliant folders.Example:<pre class="md-code md-code-``` java"><code class="java">
NPath configFolder = NPath.ofUserStore(NStoreType.CONF);
System.out.println("User config path: " + configFolder);
</code></pre><H4 class="md-title-3"><p class="md-phrase">Supported <mark class="md-code md-code-` ">NStoreType</mark>s</p></H4><p class="md-phrase">Each <mark class="md-code md-code-` ">NStoreType</mark> corresponds to a logical category of user data:</p><table class="table table-bordered table-striped"><tr><th>StoreType</th><th>Purpose</th><th>Typical Usage</th><th>Linux Equivalent</th></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">BIN</mark>     </p></td><td>Stores user-specific executable binaries (non-modifiable).</td><td>Custom installed commands/tools.</td><td><p class="md-phrase"> <code class="md-code md-code-` ">$HOME/.local/bin</code> </p></td></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">CONF</mark>    </p></td><td>Stores user-specific configuration files.</td><td>App or tool settings, preferences.</td><td><p class="md-phrase"> <code class="md-code md-code-` ">$XDG_CONFIG_HOME</code> or <code class="md-code md-code-` ">$HOME/.config</code> </p></td></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">VAR</mark>     </p></td><td>Stores user-specific modifiable data.</td><td>Data files, downloaded content.</td><td><p class="md-phrase"> <code class="md-code md-code-` ">$XDG_DATA_HOME</code> or <code class="md-code md-code-` ">$HOME/.local/share</code> </p></td></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">LOG</mark>     </p></td><td>Stores log files.</td><td>Runtime logs, audit trails.</td><td><p class="md-phrase"> <code class="md-code md-code-` ">$XDG_LOG_HOME</code> or <code class="md-code md-code-` ">$HOME/.local/log</code> </p></td></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">TEMP</mark>    </p></td><td>Stores temporary files.</td><td>Temp input/output files.</td><td><p class="md-phrase"> <code class="md-code md-code-` ">$TMPDIR</code>, <code class="md-code md-code-` ">/tmp</code>, or equivalent </p></td></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">CACHE</mark>   </p></td><td>Stores non-essential cache files.</td><td>Cached packages, resources.</td><td><p class="md-phrase"> <code class="md-code md-code-` ">$XDG_CACHE_HOME</code> or <code class="md-code md-code-` ">$HOME/.cache</code> </p></td></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">LIB</mark>     </p></td><td>Stores user-specific non-executable binaries.</td><td>Local libraries and dependencies.</td><td><p class="md-phrase"> <code class="md-code md-code-` ">$HOME/.local/lib</code> </p></td></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">RUN</mark>     </p></td><td>Stores runtime file system entries.</td><td>Sockets, pipes, PID files.</td><td><p class="md-phrase"> <code class="md-code md-code-` ">$XDG_RUNTIME_DIR</code> or <code class="md-code md-code-` ">/run/user/&lt;uid&gt;</code> </p></td></tr></table><H4 class="md-title-3">Why Use ofUserStore()?</H4>This method ensures:<ul class="md-ul"><li class="md-uli">Cross-platform compatibility: Automatically maps to platform-appropriate folders.</li><li class="md-uli">Correct file placement: Keeps your workspace clean and organized.</li><li class="md-uli">Portable behavior: Works reliably across Linux, Windows, and macOS.</li></ul><H4 class="md-title-3">Advanced Example: Write to User Log Folder</H4><pre class="md-code md-code-``` java"><code class="java">
NPath logFile = NPath.ofUserStore(NStoreType.LOG).resolve("myapp.log");
logFile.writeString("This is a log entry.\n", StandardCharsets.UTF_8);
</code></pre><div class="alert alert-success mb-4">Notes : You can get the resolved directory path as a string via getLocation() or toString().</div><div class="alert alert-success mb-4">Notes : If you're working in a system context (e.g. root user or shared tools), consider NPath.ofSystemStore(NStoreType).</div><H4 class="md-title-2">Browsing HTML Folders</H4>Supports Apache Tomcat and Apache Httpd directory listings.<pre class="md-code md-code-``` java"><code class="java">
NPath httpFolder = NPath.of("htmlfs:https://archive.apache.org/dist/tomcat/");
try (NStream s = httpFolder.stream()) {
    List&lt;NPath&gt; matches = s.filter(x -&gt; x.isDirectory() &amp;&amp; x.getName().matches("tomcat-[0-9.]+"))
                            .toList();
}
</code></pre><H4 class="md-title-2">Working with Temp Files and Folders</H4><pre class="md-code md-code-``` java"><code class="java">
NPath tempFile = NPath.ofTempFile("example.txt");
NPath tempFolder = NPath.ofTempFolder("project-workspace");
</code></pre>Also supports temp locations for repositories and artifact ids:<pre class="md-code md-code-``` java"><code class="java">
NPath.ofTempRepositoryFile("temp.txt", repository);
NPath.ofTempIdFolder(id);
</code></pre><H4 class="md-title-2">Content I/O</H4>Reading:<pre class="md-code md-code-``` java"><code class="java">
byte[] data = path.readBytes();
String content = path.readString();
</code></pre>Writing:<pre class="md-code md-code-``` java"><code class="java">
path.writeBytes(data);
path.writeString("Hello World");
</code></pre>Writing Structured Objects:<pre class="md-code md-code-``` java"><code class="java">
path.writeObject(myObject);     // Any serializable
path.writeMsg(NMsg.ofText("Hi"));
</code></pre><H4 class="md-title-2">Path Operations</H4><ul class="md-ul"><li class="md-uli">resolve, resolveSibling, normalize, toAbsolute, toRelative</li><li class="md-uli">exists(), isDirectory(), isFile(), delete(), mkdir()</li><li class="md-uli">getName(), getNameCount(), getNames(), getParent()</li></ul><H4 class="md-title-2">File Tree</H4><pre class="md-code md-code-``` java"><code class="java">
path.walk();                    // DFS walk
path.walkGlob();               // Glob walk
</code></pre><H4 class="md-title-2">Streaming and Navigation</H4><pre class="md-code md-code-``` java"><code class="java">
try (NStream&lt;NPath&gt; stream = path.stream()) {
    stream.forEach(x -&gt; ...);
}
</code></pre><H4 class="md-title-2">Permissions & Metadata</H4><pre class="md-code md-code-``` java"><code class="java">
Set&lt;NPathPermission&gt; perms = path.getPermissions();
path.setPermissions(...);
</code></pre><H4 class="md-title-2">Type & Protocol</H4><pre class="md-code md-code-``` java"><code class="java">
String protocol = path.getProtocol();
boolean isFile = path.isFile();
boolean isHttp = path.isHttp();
NPathType type = path.type();
</code></pre><H4 class="md-title-2">Conversion</H4><pre class="md-code md-code-``` java"><code class="java">
URL url = path.toURL().orNull();
File file = path.toFile().orNull();
Path nioPath = path.toPath().orNull();
</code></pre><H4 class="md-title-2">Example: Directory Listing</H4><pre class="md-code md-code-``` java"><code class="java">
NPath dir = NPath.of("/my/folder");
List&lt;NPath&gt; files = dir.stream()
    .filter(p -&gt; p.getName().endsWith(".txt"))
    .toList();
</code></pre><H4 class="md-title-2">Summary</H4>NPath is a versatile and protocol-aware abstraction that unifies file, URL, and resource path handling. Its rich API and Nuts integration make it ideal for building tools that require flexible resource access, remote artifact inspection, or file system utilities.
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U64E310658DAE165F6DFC160D4950ADF4F2EC344F" >
                                <h3 class="main-section2"><a href="#U6413499FAE4672C548D930B297101FD249F37A66">7.6 IO: Working with files</a></h3>
                                <div class="text-card">
                                <p class="md-phrase"><b class="md-bold">nuts</b> Library allows multiple variants of string interpolation</p><H4 class="md-title-2">NCp</H4><pre class="md-code md-code-``` java"><code class="java">
    NCp.of()
        .from("http://my-server.com/file.pdf")
        .to("/home/my-file")
        .setProgressMonitor(true)
        .setValidator((in)-&gt;checkSHA1Hash(in))
        .run();

    NPs ps=NPs.of()
        if(ps.isSupportedKillProcess()){
            ps.killProcess("1234");
        }
</code></pre><H4 class="md-title-2">NCompress/NUncompress</H4><pre class="md-code md-code-``` java"><code class="java">
    NCompress aa = NCompress.of()
        .setTarget(options.outZip);
        for (NPath file : options.files) {
        aa.addSource(file);
        }
        aa.run();
        
</code></pre><pre class="md-code md-code-``` java"><code class="java">
    NUncompress.of()
                    .from(is)
                    .visit(new NUncompressVisitor() {
    @Override
    public boolean visitFolder(String path) {
        return true;
    }

    @Override
    public boolean visitFile(String path, InputStream inputStream) {
        if ("META-INF/MANIFEST.MF".equals(path)) {
            ...
        } else) {
            ...
        }
        return true;
    }
}).run();
</code></pre><H4 class="md-title-2">NDigest</H4><pre class="md-code md-code-``` java"><code class="java">
   String digest=NDigest.of().setSource(x.getPath().getBytes()).computeString();
}).run();
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="filesystem" >
                                <h3 class="main-section2"><a href="#U6413499FAE4672C548D930B297101FD249F37A66">7.7 File system</a></h3>
                                <div class="text-card">
                                <b class="md-bold"><mark class="md-code md-code-``` ">nuts</mark></b> manages multiple workspaces. It has a default one located at ~/.config/nuts (~ is the user home directory). Each workspace handles a database and files related to the installed applications. The workspace has a specific layout to store different types of files relatives to your applications. <b class="md-bold">nuts</b><p class="md-phrase"> is largely inspired by <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html" class="md-link">XDG Base Directory Specification</a> and hence defines several  store locations for each file type. Such organization of folders is called Layout and is dependent on the current operating system, the layout strategy and any custom configuration.</p><H4 class="md-title-2">Store Locations</H4>Supported Store Locations are : <p class="md-phrase"><b class="md-bold"><mark class="md-code md-code-``` ">nuts</mark></b> File System defines the following folders :</p><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><b class="md-bold">config</b> : defines the base directory relative to which application specific configuration files should be stored.</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">apps</b> : defines the base directory relative to which application executable binaries should be stored</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">lib</b> : defines the base directory relative to which application non executable binaries should be stored</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">var</b> : defines the base directory relative to which application specific data files (other than config) should be stored</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">log</b> : defines the base directory relative to which application specific log and trace files should be stored</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">temp</b> : defines the base directory relative to which application specific temporary files should be stored</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">cache</b> : defines the base directory relative to which application non-essential data and binary files should be stored to optimize bandwidth or performance</p></li><li class="md-uli"><p class="md-phrase"><b class="md-bold">run</b> : defines the base directory relative to which application-specific non-essential runtime files and other file objects (such as sockets, named pipes, ...) should be stored</p></li></ul><p class="md-phrase"><b class="md-bold"><mark class="md-code md-code-``` ">nuts</mark></b> defines such distinct folders (named Store Locations) for storing different types of application data according to your operating system.</p>On Windows Systems the default locations are :<ul class="md-ul"><li class="md-uli">apps     : "$HOME/AppData/Roaming/nuts/apps"</li><li class="md-uli">lib      : "$HOME/AppData/Roaming/nuts/lib"</li><li class="md-uli">config   : "$HOME/AppData/Roaming/nuts/config"</li><li class="md-uli">var      : "$HOME/AppData/Roaming/nuts/var"</li><li class="md-uli">log      : "$HOME/AppData/Roaming/nuts/log"</li><li class="md-uli">temp     : "$HOME/AppData/Local/nuts/temp"</li><li class="md-uli">cache    : "$HOME/AppData/Local/nuts/cache"</li><li class="md-uli">run      : "$HOME/AppData/Local/nuts/run"</li></ul>On Linux, Unix, MacOS and any POSIX System the default locations are :<ul class="md-ul"><li class="md-uli">config   : "$HOME/.config/nuts"</li><li class="md-uli">apps     : "$HOME/.local/share/nuts/apps"</li><li class="md-uli">lib      : "$HOME/.local/share/nuts/lib"</li><li class="md-uli">var      : "$HOME/.local/share/nuts/var"</li><li class="md-uli">log      : "$HOME/.local/log/nuts"</li><li class="md-uli">cache    : "$HOME/.cache/nuts"</li><li class="md-uli">temp     : "$java.io.tmpdir/$username/nuts"</li><li class="md-uli">run      : "/run/user/$USER_ID/nuts"</li></ul>As an example, the configuration folder for the artifact net.thevpc.app:netbeans-launcher#1.2.4 in the default workspace in a Linux environment is<pre class="md-code md-code-``` "><code class="">
home/me/.config/nuts/default-workspace/config/id/net/vpc/app/netbeans-launcher/1.2.4/
</code></pre>And the log file "app.log" for the same artifact in the workspace named "personal" in a Windows environment is located at<pre class="md-code md-code-``` "><code class="">
C:/Users/me/AppData/Roaming/nuts/log/nuts/personal/config/id/net/vpc/app/netbeans-launcher/1.2.4/app.log
</code></pre><H4 class="md-title-2">Store Location Strategies</H4><p class="md-phrase">When you install any application using the <b class="md-bold"><mark class="md-code md-code-``` ">nuts</mark></b> command a set of specific folders for the presented Store Locations are created. For that,  two strategies exist : <b class="md-bold">Exploded strategy</b> (the default) and <b class="md-bold">Standalone strategy</b>.  </p><p class="md-phrase">In <b class="md-bold">Exploded strategy</b>  <b class="md-bold"><mark class="md-code md-code-``` ">nuts</mark></b> defines top level folders (in linux ~/.config for config Store Location etc), and then creates withing each top level Store Location a sub folder for the given application (or application version to be more specific). This helps putting all your config files in a SSD partition for instance and make <b class="md-bold">nuts</b> run faster. However if you are interested in the backup or roaming of your workspace, this may be not the best approach.</p><p class="md-phrase">The <b class="md-bold">Standalone strategy</b>   is indeed provided mainly for Roaming workspaces that can be shared, copied, moved to other locations. A single root folder will contain all of the Store Locations.</p>As an example, in "Standalone Strategy", the configuration folder for the artifact net.thevpc.app:netbeans-launcher#1.2.4 in the default workspace in a Linux environment is<pre class="md-code md-code-``` "><code class="">
home/me/.config/nuts/default-workspace/config/id/net/vpc/app/netbeans-launcher/1.2.4/
</code></pre>And the log file "app.log" for the same artifact in the workspace named "personal" in the same Linux environment is located at<pre class="md-code md-code-``` "><code class="">
/home/me/.config/nuts/default-workspace/log/id/net/vpc/app/netbeans-launcher/1.2.4/
</code></pre>You can see here that the following folder will contain ALL the data files of the workspace.<pre class="md-code md-code-``` "><code class="">
/home/me/.config/nuts/default-workspace
</code></pre><p class="md-phrase">whereas in the <b class="md-bold">Exploded strategy</b> the Store Location are "exploded" into multiple root folders.</p><H4 class="md-title-2">Custom Store Locations</H4>Of course, you are able to configure separately each Store Location to meet your needs.<H4 class="md-title-3">Selecting strategies</H4>The following command will create an exploded workspace<pre class="md-code md-code-``` "><code class="">
nuts -w my-workspace --exploded
</code></pre>The following command will create a standalone workspace<pre class="md-code md-code-``` "><code class="">
nuts -w my-workspace --standalone
</code></pre><H4 class="md-title-3">Finer Customization</H4>The following command will create an exploded workspace and moves all config files to the SSD partition folder /myssd/myconfig<pre class="md-code md-code-``` "><code class="">
nuts -w my-workspace --system-conf-home=/myssd/myconfig
</code></pre>You can type help for more details.<pre class="md-code md-code-``` "><code class="">
nuts help
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="U2971A11A6DE6DF60D9DB661E4AB607D5913B755F" >
                        <h2 class="main-section1"><a href="#U2971A11A6DE6DF60D9DB661E4AB607D5913B755F">8 Concurrency & Stability</a></h2>
                        <div class="text-card">
                        In Nuts, building reliable and high-performance applications requires tools that manage shared state, caching, rate-limiting, and progress tracking safely across threads and execution contexts. The Nuts framework provides a suite of concurrency primitives and stability helpers to simplify these common challenges:<ul class="md-ul"><li class="md-uli">NScopedValuenull</li></ul>
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="U45C4A77F2C3D5A7610243B8A99963CE0050D5C44" >
                                <h3 class="main-section2"><a href="#U2971A11A6DE6DF60D9DB661E4AB607D5913B755F">8.1 Stable Value</a></h3>
                                <div class="text-card">
                                null stores a value that is computed lazily — the supplier is not invoked until the first call to null. Once evaluated, the value remains stable and is reused for all subsequent accesses. This is perfect for expensive computations, constants, or resources that should only be initialized once. contentType: java<pre class="md-code md-code-``` java"><code class="java">
// Example 1: Lazy initialization
NStableValue&amp;lt;Double&gt; stableRandom = NStableValue.of(Math::random);

// Value is computed on first access
NOut.println("First value = " + stableRandom.get());

// Subsequent accesses return the same value
NOut.println("Same value = " + stableRandom.get());

// Check evaluation status
NOut.println("Evaluated? " + stableRandom.isEvaluated());
NOut.println("Valid? " + stableRandom.isValid());
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U014FEE51D2551A72350DF8C77F8DBDC5413BEBB4" >
                                <h3 class="main-section2"><a href="#U2971A11A6DE6DF60D9DB661E4AB607D5913B755F">8.2 Cached Value</a></h3>
                                <div class="text-card">
                                null helps you cache expensive computations or resources. It evaluates a null once, stores the result, and reuses it until the cache expires or is invalidated. You can configure expiry policies to automatically refresh values.<pre class="md-code md-code-``` java"><code class="java">
// Example 1: Cache with expiry
NCachedValue&amp;lt;Double&gt; cachedRandom = NCachedValue.of(Math::random)
        .setExpiry(Duration.ofSeconds(5));

// First call computes and caches the value
        NOut.println("First value = " + cachedRandom.get());

// Subsequent calls reuse the cached value (within 5 seconds)
        NOut.println("Cached value = " + cachedRandom.get());

// Invalidate to force recomputation
        cachedRandom.invalidate();
NOut.println("New value after invalidate = " + cachedRandom.get());

</code></pre>Sometimes a computation may fail (for example, a remote call).null can automatically retry, retain the last good value on failure, and recover gracefully. This makes it ideal for unstable resources or intermittent network services.<pre class="md-code md-code-``` java"><code class="java">

// Example 2: Cache with retries and fallback
AtomicInteger counter = new AtomicInteger();

NCachedValue&amp;lt;Integer&gt; cached = NCachedValue.of(() -&gt; {
    int attempt = counter.incrementAndGet();
    if (attempt % 2 == 0) {
        throw new RuntimeException("Simulated failure");
    }
    return attempt;
})
.setRetry(3, Duration.ofMillis(100))   // retry up to 3 times
.retainLastOnFailure(true);            // keep last value if failure occurs

// First call computes and caches
NOut.println("Value = " + cached.get());

// Next call may fail internally but still returns last good value
NOut.println("Resilient value = " + cached.get());

</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U75217DA628D91C11E305BB7C6812DE7FE8800ECF" >
                                <h3 class="main-section2"><a href="#U2971A11A6DE6DF60D9DB661E4AB607D5913B755F">8.3 Rate Limit Value</a></h3>
                                <div class="text-card">
                                null lets you control how often actions can be executed. For example, you can allow only null, using a strategy like null. This makes it easy to protect APIs, services, or expensive operations from overuse.<pre class="md-code md-code-``` java"><code class="java">
// Example 1: Basic sliding window rate limit
NRateLimitedValue limiter = NRateLimitedValue.ofBuilder("example")
                .withLimit("calls", 10).per(Duration.ofMinutes(2))
                .withStrategy(NRateLimitDefaultStrategy.SLIDING_WINDOW)
                .build();

for (int i = 0; i &lt; 15; i++) {
NRateLimitValueResult res = limiter.take();
    if (res.success()) {
        NOut.println("Action " + i + " allowed at " + Instant.now());
        } else {
        NOut.println("Action " + i + " rejected. Retry after "
        + res.getRetryAfter().orElse(Duration.ZERO));
        }
        }

</code></pre>Instead of consuming tokens immediately, null will wait until the limiter can provide a slot before executing your code. This is useful when you want the action to eventually run rather than fail. You can also define multiple independent limits (per minute, per day, etc.) in a single limiter, and null will respect all limits before executing.<pre class="md-code md-code-``` java"><code class="java">
/// Example 2: Using claimAndRun
limiter.claimAndRun(() -&gt; {
    NOut.println("Doing a limited action...");
});

// Adding multiple limits at once
NRateLimitedValue limiter2 = NRateLimitedValue.ofBuilder("api-calls")
        .withLimit("per-minute", 60).per(Duration.ofMinutes(1))
        .withLimit("per-day", 1000).per(Duration.ofDays(1))
        .build();

limiter2.claimAndRun(() -&gt; {
    NOut.println("API call allowed");
});

</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U5E01A6B4F9ADB9AC8353C0577E8F1395AE4C3846" >
                                <h3 class="main-section2"><a href="#U2971A11A6DE6DF60D9DB661E4AB607D5913B755F">8.4 Stable Value</a></h3>
                                <div class="text-card">
                                null provides a flexible, high-level way to lock resources across threads and even processes. You can create locks from objects, paths, or resource IDs, and execute code safely while the lock is held. This ensures that critical sections are executed exclusively and consistently.<pre class="md-code md-code-``` java"><code class="java">
// Example 1: Create a lock from an object
NLock lock = NLock.ofPath(NPath.of("/path/to/resource.txt");

// Check lock status
Nout.println("Is locked? " + lock.isLocked());

// Run code while holding the lock
        lock.runWith(() -&gt; {
        NOut.println("Executing critical section...");
});

// Check if current thread holds the lock
        Nout.println("Held by current thread? " + lock.isHeldByCurrentThread());

</code></pre>null also supports locks tied to workspace resources or IDs, allowing inter-process synchronization. You can execute tasks immediately, with a timeout, or safely retrieve results using null.<pre class="md-code md-code-``` java"><code class="java">
NId resourceId = NId.of("net.thevpc.nuts:nuts#0.8.6");
// Lock tied to workspace resource
NLock idLock = NLock.ofIdPath(resourceId);

// Execute a task and get result
// The lock is process-safe and prevents other processes from entering the critical section
String result = idLock.callWith(() -&gt; {
    NOut.println("Working with locked resource...");
    return "done";
}, 5, TimeUnit.SECONDS).orNull();

NOut.println("Result = " + result);

// Run immediately if lock is free
boolean executed = idLock.runWithImmediately(() -&gt; {
    NOut.println("Quick task executed under lock");
});
NOut.println("Was executed? " + executed);
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="UECD08D6350FA0AB959E7191832CE146442D9041E" >
                                <h3 class="main-section2"><a href="#U2971A11A6DE6DF60D9DB661E4AB607D5913B755F">8.5 Progress Monitoring</a></h3>
                                <div class="text-card">
                                Long-running or multi-step operations benefit from structured progress tracking. NProgressMonitor provides a flexible, hierarchical, and thread-safe way to track, report, and manage task progress. It supports splitting, weighting, cancellation, suspension, and undoing progress, making it suitable for both simple and complex workflows.<H4 class="md-title-2">Key features:</H4><ul class="md-ul"><li class="md-uli">Basic Progress Tracking – Update progress using setProgress(double progress) or as a fraction of total work setProgress(long current, long max). Events are emitted for start, progress, completion, undo, cancellation, and suspension.</li><li class="md-uli">Hierarchical Progress – Split a monitor into subtasks using split(int count) or split(double... weights) to assign relative weights. This allows aggregation of multiple subtask progress into a single overall progress.</li><li class="md-uli">Listeners & Reporting – Attach listeners via addListener(NProgressListener) to handle progress events programmatically. Output can be printed to streams or loggers using NProgressMonitors.of().ofPrintStream(...) or ofLogger(...).</li><li class="md-uli">Structured Execution – runWith(Runnable) and runWithAll(Runnable...) integrate progress tracking into actual task execution. Each runnable can be associated with a subtask and progress weight.</li><li class="md-uli">Indeterminate Progress – Supports tasks with unknown total duration using setIndeterminate().</li><li class="md-uli">Estimated Duration – Automatically calculates elapsed and remaining time via getEstimatedRemainingDuration() and getEstimatedTotalDuration().</li><li class="md-uli">Convenient Defaults – NProgressMonitors.of().of() returns the current monitor if one exists, or a silent fallback otherwise.</li><li class="md-uli">ANSI-friendly Output – Works seamlessly with NText/NTextStyle for styled terminal output.</li></ul><pre class="md-code md-code-``` java"><code class="java">
NProgressMonitor monitor = NProgressMonitors.of().of(event -&gt; {
    NOut.println(event);
});
monitor.setProgress(0);
monitor.setProgress(0.2);
monitor.setProgress(1.0);
monitor.complete();
</code></pre><H4 class="md-title-2">Example: Structured Subtasks</H4><pre class="md-code md-code-``` java"><code class="java">
NProgressMonitor monitor = NProgressMonitor.of(); // scoped monitor or silenced one
NProgressMonitor[] subtasks = monitor.split(3); // 3 weighted subtasks

subtasks[0].runWith(() -&gt; doWork("Task A"));
subtasks[1].runWith(() -&gt; doWork("Task B"));
subtasks[2].runWith(() -&gt; doWork("Task C"));
</code></pre><H4 class="md-title-2">Example: Integration with Runnable Execution</H4><pre class="md-code md-code-``` java"><code class="java">
NProgressMonitor.of().runWithAll(
    tasks.stream()
         .map(task -&gt; (Runnable) () -&gt; processTask(task))
         .toArray(Runnable[]::new)
);
</code></pre>These capabilities make NProgressMonitor a robust tool to structure, visualize, and control progress in multi-step or parallel operations, including support for cancellation, suspension, and progress weighting.<H4 class="md-title-2">Terminal & ASCII Progress Rendering</H4><p class="md-phrase">In addition to structured progress monitoring, <mark class="md-code md-code-` ">NAF</mark> allows rendering progress directly in the terminal, including an ASCII progress bar with messages:</p><pre class="md-code md-code-``` java"><code class="java">
for (int i = 0; i &lt; 100; i++) {
    Thread.sleep(100);
    NSession.of().getTerminal()
            .printProgress((i / 100f), NMsg.ofC("Processing item %s", i));
}
</code></pre>This will render a live progress bar with the associated message, updating in-place in the terminal. It works on both POSIX terminals and Windows terminals via Jansi, leveraging the same styling framework (NText/NTextStyle) used elsewhere.<H4 class="md-title-2">Integration with IO Streams</H4>For monitoring IO progress, Nuts provides NInputStreamMonitor, which wraps an input stream to log or trace progress dynamically:<pre class="md-code md-code-``` java"><code class="java">

NInputStreamMonitor monitor = NInputStreamMonitor.of()
        .setSource(new FileInputStream("/some/path"))
        .setLogProgress(true)
        .setTraceProgress(false);

NProgressListener listener= event-&gt;NOut.println(NMsg.of("progress : %s",event.getProgress()));

NInputSource monitoredSource = NInputSource.of(
        monitor.setProgressFactory(()-&gt;listener)
                .setLength(NPath.of("/some/path").length()) //estimated length
                .create()
);
// Reading the bytes will show progress in the console
byte[] bytes=monitoredSource.readBytes();

</code></pre><ul class="md-ul"><li class="md-uli">NInputStreamMonitor wraps the source stream.</li><li class="md-uli">NProgressListener receives events with progress information.</li><li class="md-uli">setLength() allows estimating progress if the total size is known.</li><li class="md-uli">This integrates seamlessly with the terminal output, leveraging NOut and NMsg for styled messages.    This demonstrates that progress monitoring in Nuts is not limited to computations—it can be applied to IO operations in a clean, observable way.</li></ul>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="U91786BCD0B9017BC7FC66D0C3F5DC6EDD9BE7317" >
                        <h2 class="main-section1"><a href="#U91786BCD0B9017BC7FC66D0C3F5DC6EDD9BE7317">9 External Commands & Processes</a></h2>
                        <div class="text-card">
                        Nuts provides a robust and unified API to manage external processes, execute commands, and interact with the underlying OS in a platform-independent way. This includes:<ul class="md-ul"><li class="md-uli">Executing shell commands or external binaries.</li><li class="md-uli">Capturing output, error streams, and exit codes.</li><li class="md-uli">Filtering and manipulating running processes.</li><li class="md-uli">Gracefully handling interactivity and embedded execution.</li></ul>
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="U1FD9667E4AB218BED3FE9895697E4C3ADF6ED3B9" >
                                <h3 class="main-section2"><a href="#U91786BCD0B9017BC7FC66D0C3F5DC6EDD9BE7317">9.1 Process Discovery and Management</a></h3>
                                <div class="text-card">
                                NPs allows listing and filtering running processes across platforms and optionally killing them:<H4 class="md-title-2">To create a new process</H4><pre class="md-code md-code-``` java"><code class="java">
// List all visible processes
for (NPsInfo nPsInfo : NPs.of().getResultList()) {
        System.out.println(nPsInfo);
}

// Kill all Tomcat Java processes
if (NPs.of().isSupportedKillProcess()) {
    NPsInfo[] tomcats = NPs.of()
            .setPlatformFamily(NPlatformFamily.JAVA)
            .getResultList()
            .stream()
            .filter(p -&gt; p.getName().equals("org.apache.catalina.startup.Bootstrap"))
            .toArray(NPsInfo[]::new);

    for (NPsInfo ps : tomcats) {
        if (NPs.of().killProcess(ps.getPid())) {
            NOut.print(NMsg.ofC("Tomcat process killed (%s).\n", ps.getPid()));
        } else {
            NOut.print(NMsg.ofC("Tomcat process could not be killed (%s).\n", ps.getPid()));
        }
    }
}
</code></pre><ul class="md-ul"><li class="md-uli">NPs.of() provides a snapshot of running processes.</li><li class="md-uli">Processes can be filtered by name, platform family, or other criteria.</li><li class="md-uli">killProcess(pid) supports inter-process termination when the platform allows it.</li></ul>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U41EBAFB3ADE694F74030D3DFD9565CD765D2F525" >
                                <h3 class="main-section2"><a href="#U91786BCD0B9017BC7FC66D0C3F5DC6EDD9BE7317">9.2 Executing External Commands</a></h3>
                                <div class="text-card">
                                NAF provides a high-level API to execute external commands, whether locally or remotely, in a concise, structured, and cross-platform manner. Using NExecCmd, you can run processes, capture their output, handle errors, and even execute them on remote hosts via SSH—all without the verbosity of the standard Java Process API.<b class="md-bold">Key Features</b><ul class="md-ul"><li class="md-uli">Embedded & Local Execution: Run commands in the current JVM or OS environment.</li><li class="md-uli">Remote Execution: Execute commands on SSH-enabled hosts transparently.</li><li class="md-uli">Automatic Output Capture: Grab stdout and stderr without manually reading streams.</li><li class="md-uli">Run Java Artifacts Directly: Download a JAR and its dependencies from Maven or remote repositories and execute it automatically.</li><li class="md-uli">Fail-Fast Control: Stop execution immediately on errors if desired.</li><li class="md-uli">Minimal Boilerplate: Avoid complex Runtime.exec() and thread-based stream consumption.</li></ul><H4 class="md-title-2">To create a new process</H4><pre class="md-code md-code-``` java"><code class="java">
// Simple embedded command execution
String result = NExecCmd.of("info")
                .getGrabbedAllString();
NOut.println(result);
</code></pre><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">.of("info")</code> creates the command to execute.</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">.getGrabbedAllString()</code> captures the full output (stdout + stderr) as a string.</p></li><li class="md-uli"><p class="md-phrase">No exceptions are thrown automatically; the caller can inspect result or <code class="md-code md-code-` ">getResultCode()</code> to decide if the execution succeeded.</p></li></ul><H4 class="md-title-2">Example: Executing a shell command with NSH</H4><pre class="md-code md-code-``` java"><code class="java">
String result = NExecCmd.of()
        .addCommand(NConstants.Ids.NSH, "-c", "ls")
        .grabAll()
        .failFast()
        .getGrabbedOutString();

NOut.println("Result:");
NOut.println(result);
</code></pre><ul class="md-ul"><li class="md-uli">Nuts provides embedded shells (NSH) for running commands in a sandboxed environment.</li><li class="md-uli">Output is automatically sanitized to remove terminal formatting unless explicitly requested.</li></ul><H4 class="md-title-2">Special Executor IDs</H4>Nuts can handle commands with special identifiers or remote resources:<pre class="md-code md-code-``` java"><code class="java">
String result = NExecCmd.of()
        .addExecutorOptions("--bot")
        .addCommand("com.mycompany:my-remote-artifact")
        .addCommand("list", "-i")
        .getGrabbedAllString();

NOut.println(result);
</code></pre><ul class="md-ul"><li class="md-uli">Useful for running workspace-bound tools or remote executables.</li><li class="md-uli">Works with Maven coordinates or URLs pointing to executable jars.</li></ul><H4 class="md-title-2">Remote & Structured Command Execution</H4>NExecCmd is not limited to local commands: you can execute processes on remote systems via SSH (or any supported executor) and easily capture stdout/stderr with minimal boilerplate:<pre class="md-code md-code-``` java"><code class="java">
NExecCmd u = NExecCmd.of()
        .at("ssh://me@myserver")              // Execute on remote server
        .setIn(NExecInput.ofNull())           // No stdin input
        .addCommand("ps", "-eo",             // Command + arguments
            "user,pid,%cpu,%mem,vsz,rss,tty,stat,lstart,time,command")
        .grabErr()                            // Capture stderr
        .setFailFast(true)                    // Optional: fail immediately on error
        .grabOut();                           // Capture stdout

// Access results
String stdout = u.getGrabbedOutString();
String stderr = u.getGrabbedErrString();
int exitCode = u.getResultCode();

NOut.println("Exit code: " + exitCode);
NOut.println("Output:\n" + stdout);
</code></pre>Key points:<ul class="md-ul"><li class="md-uli">at(...) allows specifying a remote target (SSH, etc.).</li><li class="md-uli">grabOut() / grabErr() capture output streams automatically.</li><li class="md-uli">setFailFast(true) ensures that any failure will stop execution immediately.</li><li class="md-uli">No need for Runtime.exec() boilerplate or manual stream handling.</li></ul>This makes NExecCmd a powerful, concise, and cross-platform alternative to the traditional Java Process API.<H4 class="md-title-2">Why NExecCmd is Better than Runtime.exec()</H4>Using Runtime.exec() requires verbose boilerplate to:<ul class="md-ul"><li class="md-uli">manage stdin/stdout/stderr streams,</li><li class="md-uli">handle threading to avoid blocking,</li><li class="md-uli">wait for process completion,</li><li class="md-uli">and manually check exit codes.</li></ul>With NExecCmd, all of this is simplified and made cross-platform, while also supporting structured output handling, remote execution, and direct execution of downloaded Java artifacts transparently.
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="UD937B80F493F09053FBB6A5EDC5EFC0DCB3E4C71" >
                        <h2 class="main-section1"><a href="#UD937B80F493F09053FBB6A5EDC5EFC0DCB3E4C71">10 Utilities and Support</a></h2>
                        <div class="text-card">
                        
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="UB7BFC5971AFC63461C8763DD2B18F152E8F2AAA6" >
                                <h3 class="main-section2"><a href="#UD937B80F493F09053FBB6A5EDC5EFC0DCB3E4C71">10.1 NLog for elegant Logging</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-1"><p class="md-phrase"><mark class="md-code md-code-` ">NLog</mark> — Structured Developer Logging in Nuts</p></H4>null combines structured messages (null), styled output with colors and null formatting, and seamless integration with null ornull. Messages carry an null, similar to logging markers, which allows you to classify, filter, or style logs at runtime. Whether you’re building CLI tools, scripts, or full applications, null makes logs expressive, rich, and easy to understand.<hr class="divider" class="md-hr"/><H4 class="md-title-2">🔧 Basic Usage</H4>You can obtain a logger using:<pre class="md-code md-code-``` java"><code class="java">
NLog log = NLog.of(MyClass.class);
</code></pre>Then log messages with a semantic level:<pre class="md-code md-code-``` java"><code class="java">
log.error(NMsg.ofC("[%s] not yet supported", featureName));
log.warn(NMsg.ofC("Slow lock file: waited %s on %s", duration, path));
</code></pre>Log methods include:<ul class="md-ul"><li class="md-uli"><code class="md-code md-code-` ">log.info(...)</code></li><li class="md-uli"><code class="md-code md-code-` ">log.warn(...)</code></li><li class="md-uli"><code class="md-code md-code-` ">log.error(...)</code></li><li class="md-uli"><code class="md-code md-code-` ">log.debug(...)</code></li><li class="md-uli"><code class="md-code md-code-` ">log.trace(...)</code></li></ul><p class="md-phrase">All accept an <mark class="md-code md-code-` ">NMsg</mark>, or lazily supplied via <code class="md-code md-code-` ">Supplier&lt;NMsg&gt;</code>.</p><H4 class="md-title-2">Structured Logging with Verbs and Levels</H4>Each log message can include:<ul class="md-ul"><li class="md-uli"><p class="md-phrase">A standard log level: <mark class="md-code md-code-` ">SEVERE</mark>, <mark class="md-code md-code-` ">WARNING</mark>, <mark class="md-code md-code-` ">INFO</mark>, <mark class="md-code md-code-` ">CONFIG</mark>, <mark class="md-code md-code-` ">FINE</mark>, <mark class="md-code md-code-` ">FINER</mark>, <mark class="md-code md-code-` ">FINEST</mark>, etc.</p></li><li class="md-uli"><p class="md-phrase">A semantic verb (e.g., <mark class="md-code md-code-` ">READ</mark>, <mark class="md-code md-code-` ">START</mark>, <mark class="md-code md-code-` ">FAIL</mark>, <mark class="md-code md-code-` ">CACHE</mark>, etc.) to describe the nature of the event.</p></li></ul><H4 class="md-title-2">Generic Log Example</H4><pre class="md-code md-code-``` java"><code class="java">
NLog.of("myapp").info(
        NMsg.ofV("Hello %s, task %s completed with status %s",
"user","Alice","status",
        NText.ofStyled("OK", NTextStyle.primary1()), exception
)
        .withIntent(NMsgIntent.CONFIG)   // Classifies this log, can be used for filtering or styling
.withThrowable(exception)        // Attaches the exception
.withDurationMs(123)             // Optional: report task duration
);

</code></pre><H4 class="md-title-2">Common NLogIntent Values</H4><p class="md-phrase"><mark class="md-code md-code-` ">NLogIntent</mark> adds semantic meaning to logs beyond plain text:</p><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">INFO</mark>	Informational messages</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">DEBUG</mark>	Debug-level messages</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">START</mark>	Start of an operation</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">SUCCESS</mark>	Successful end of an operation</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">FAIL</mark>	Operation failure</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">WARNING</mark>	Warnings</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">READ</mark>	Read/access events</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">UPDATE</mark>	State or file updates</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">ADD</mark>	Resource addition</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">REMOVE</mark>	Resource removal</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">CACHE</mark>	Cache-related operations</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">PROGRESS</mark>	Ongoing task progress</p></li></ul><p class="md-phrase">You can define custom verbs using <code class="md-code md-code-` ">NLogIntent.of("CUSTOM_VERB")</code>.</p><H4 class="md-title-2">Fluent Logging with NMsg</H4><p class="md-phrase">For advanced logging, use the fluent builder API with <code class="md-code md-code-` ">.withXYZ()</code> :</p><pre class="md-code md-code-``` java"><code class="java">
log
    .log(
            NMsg.ofC("[%s] %s", action, NCmdLine.of(context.getCommand()))
            .withLlevel(Level.FINER)
            .withIntent(NMsgIntent.START)
        );
</code></pre>Supports:<ul class="md-ul"><li class="md-uli">Setting level (withLevel(...))</li><li class="md-uli">Adding a verb (withIntent(...))</li><li class="md-uli">Attaching exceptions (withThrowable(Throwable))</li><li class="md-uli">Attaching per uration (withDurationMs(Throwable))</li><li class="md-uli">Final logging (log(...))</li></ul><H4 class="md-title-2">Example with Exception</H4><pre class="md-code md-code-``` java"><code class="java">
NLog.of(Nsh.class)
    .log(NMsg.ofC("Error resolving history file: %s", history.getHistoryFile())
        .withError(ex)
    );
// equivalent
NLog.of(Nsh.class)
    .log(NMsg.ofC("Error resolving history file: %s", history.getHistoryFile())
        .withLevel(Level.SEVERE)
        .withIntent(NMsgIntent.FAIL)
        .withThrowable(ex)
    );
</code></pre><H4 class="md-title-2">Scoped Logging</H4>Traditional MDC allows you to store key-value pairs for the current thread, but managing nested or dynamic contexts often becomes cumbersome. NLog builds on and extends this concept by allowing nested logging scopes, dynamic placeholders, message prefixes, and custom log handlers — all without touching global configuration or rewriting classes. Logs automatically inherit the correct context, making them structured, expressive, and runtime-aware. With NLog, you get the convenience of MDC plus the power of non-invasive, modular, and scoped logging.<pre class="md-code md-code-``` java"><code class="java">
class MyApp {
    public void test() {
        NLogs.of().runWith(
            NLogContext.of()
                    .withMessagePrefix(NMsg.ofC("[My Application]")) // Prefix added to every log message in this scope
                    .withPlaceholder("user", "Adam") // Placeholder available to all logs in this scope
                    .withLog(message -&gt; NOut.println(NMsg.ofC("[SCOPED] %s", message))), // Custom log handler: redirect all messages to stdout with a [SCOPED] prefix
            () -&gt; {
                OtherClass.doThis(); // Perform actions that generate logs
            }
        );
    }
}
class OtherClass {
    private static void doThis() {
        // Standard logger: picks up class context but not the scoped stdout handler
        NLog.of(LogTest.class).log(NMsg.ofC("hello %s", NMsg.placeholder("user")));
        // Scoped logger: inherits context from outer scope (user=Adam) and uses the custom stdout handler
        NLog.ofScoped(OtherClass.class).log(NMsg.ofV("hello $user"));
    }
}


</code></pre><H4 class="md-title-2">Output Destinations</H4>By default, NLog messages are rendered to:<ul class="md-ul"><li class="md-uli">Standard error (NSession.err()), so they remain separate from user output.</li><li class="md-uli">And/or a workspace log file, depending on the session configuration.</li></ul>This ensures that logs:<ul class="md-ul"><li class="md-uli">Do not pollute standard output (NOut, NTrace),</li><li class="md-uli">Can be persisted and analyzed later if needed,</li><li class="md-uli">Can be redirected or filtered using Nuts session capabilities.</li></ul><div class="alert alert-success mb-4">You can customize log destinations by configuring the NSession, such as redirecting logs to files, suppressing error output, or adjusting verbosity.</div><H4 class="md-title-2">Why NLog + NMsg Is Unique</H4>In most Java logging frameworks:<ul class="md-ul"><li class="md-uli">Message formatting is tied to string interpolation styles (e.g., SLF4J uses {} placeholders, Java Logging uses {0}, Log4j2 can use %s, etc.).</li><li class="md-uli">You must format messages manually for each logging backend, or risk inconsistent logs.</li><li class="md-uli">Structured output (e.g., JSON logs, table views) requires extra work or third-party wrappers.</li></ul>With NLog, this complexity disappears: You write once with NMsg:<pre class="md-code md-code-``` java"><code class="java">
log.warn(NMsg.ofC("File %s could not be read", path));
</code></pre>Or:<pre class="md-code md-code-``` java"><code class="java">
log.info(NMsg.ofJ("User {0} logged in at {1}", username, timestamp));
</code></pre>Or with variables:<pre class="md-code md-code-``` java"><code class="java">
log.debug(NMsg.ofV("Downloading $file to $path", NMaps.of("file", id, "path", target)));</code></pre><code class="md-code md-code-``` "></code>Then the rendering adapts to the output:<ul class="md-ul"><li class="md-uli">CLI (NTF) → colored and styled</li><li class="md-uli">File → plain text</li><li class="md-uli">JSON → structured representation</li><li class="md-uli">GUI → rich visual log viewers</li><li class="md-uli">Remote API → formatted strings or JSON</li></ul><H4 class="md-title-2">Summary</H4><ul class="md-ul"><li class="md-uli">Use NLog for developer-focused internal logs.</li><li class="md-uli">Use NOut/NTrace for user-facing messages.</li><li class="md-uli">Attach semantic verbs (NLogIntent) to add context.</li><li class="md-uli">Use NMsg for structured, styled messages.</li><li class="md-uli">Use .with() for flexible, readable, builder-style logging.</li></ul>This makes NLog an ideal logging facility for modular, structured, and contextual diagnostics in the Nuts platform.
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="NOptional" >
                                <h3 class="main-section2"><a href="#UD937B80F493F09053FBB6A5EDC5EFC0DCB3E4C71">10.2 NOptional</a></h3>
                                <div class="text-card">
                                NOptional is a powerful alternative to Java’s Optional that goes beyond being just a nullable container. It’s designed to make null handling more expressive,  composable, and safer — closer to the expressive capabilities of TypeScript or Kotlin.In addition to the standard of(), get(), and orElse() methods, it introduces:<ul class="md-ul"><li class="md-uli">Named values for better error messages (ofNamed()).</li><li class="md-uli"><p class="md-phrase">Optional chaining (<code class="md-code md-code-` ">then(...)</code>) to safely traverse object graphs.</p></li><li class="md-uli"><p class="md-phrase">Nullish coalescing (<code class="md-code md-code-` ">orElse()</code>), similar to ??.</p></li><li class="md-uli"><p class="md-phrase">Assertion-style accessors (<code class="md-code md-code-` ">get()</code> vs <code class="md-code md-code-` ">orNull()</code>).</p></li></ul><p class="md-phrase">These features make it ideal for writing expressive, <mark class="md-code md-code-` ">null-safe</mark> code in complex object hierarchies — without endless <code class="md-code md-code-` ">if (x != null)</code> checks.</p><H4 class="md-title-2">Non Null Assertion and Coalescing</H4>Java has a builtin null Check mechanism but it does not enable customized messages or exceptions. Optional are described as per Java's (c) Documentation "A container object which may or may not contain a non-null value". NOptional is more of an Object Wrapper than addes several useful null related operators like '??' '?.' and '!' in typescript. <table class="table table-bordered table-striped"><tr><th>Concept</th><th>Java</th><th>NAF (NOptional)</th><th>Equivalent TS</th></tr><tr><td>Null check with exception</td><td><p class="md-phrase">   <code class="md-code md-code-``` if"> (user == null) throw new ...</code>    </p></td><td><p class="md-phrase">         <code class="md-code md-code-``` NOptional">.ofNamed(user,"user").get()</code>          </p></td><td><p class="md-phrase">         <code class="md-code md-code-``` user">!</code>          </p></td></tr><tr><td>Null-safe call</td><td><p class="md-phrase"> <code class="md-code md-code-``` if"> (user != null) user.toUpperCase()</code> </p></td><td><p class="md-phrase"> <code class="md-code md-code-``` NOptional">.of(user).map(String::toUpperCase).orNull()</code>  </p></td><td><p class="md-phrase">  <code class="md-code md-code-``` user">?.toUpperCase()</code>   </p></td></tr><tr><td>user?.toUpperCase()</td><td><p class="md-phrase">   <code class="md-code md-code-``` user"> != null ? user : "default"</code>    </p></td><td><p class="md-phrase">         <code class="md-code md-code-``` NOptional">.of(user).orElse("default")</code>          </p></td><td><p class="md-phrase">   <code class="md-code md-code-``` user"> ?? "default"</code>    </p></td></tr></table><H4 class="md-title-2">Optional Chaining</H4>One of the most useful features of NOptional is the ability to traverse deep object graphs safely without repetitive null checks.<p class="md-phrase">With <code class="md-code md-code-` ">then(...)</code>, you can chain field access or method calls, and NOptional automatically short-circuits the chain if any part is null.</p><ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link " id="idi50-tab" data-toggle="tab" href="#idi50" role="tab" aria-controls="idi50" aria-selected="false">java</a></li><li class="nav-item" role="presentation"><a class="nav-link active" id="idi51-tab" data-toggle="tab" href="#idi51" role="tab" aria-controls="idi51" aria-selected="true">NAF</a></li></ul><div class="tab-content my-3"><div class="tab-pane fade show " id="idi50" role="tabpanel" aria-labelledby="idi50-tab"><pre class="md-code md-code-``` java"><code class="java">
    Number roadNumber=(app!=null &amp;&amp; app.person!=null &amp;&amp; app.person.road!=null)? app.person.address.road.number:null;
</code></pre></div><div class="tab-pane fade show active" id="idi51" role="tabpanel" aria-labelledby="idi51-tab"><pre class="md-code md-code-``` java"><code class="java"> 
    // expected var roadNumber=app?.person?.address?.road?.number;
    Number roadNumber=NOptional.of(app).then(v-&gt;v.person).then(v-&gt;v.road).then(v-&gt;v.number).orNull();
</code></pre></div></div><H4 class="md-title-2">Combining Optional Chaining</H4><ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link " id="idi60-tab" data-toggle="tab" href="#idi60" role="tab" aria-controls="idi60" aria-selected="false">java</a></li><li class="nav-item" role="presentation"><a class="nav-link active" id="idi61-tab" data-toggle="tab" href="#idi61" role="tab" aria-controls="idi61" aria-selected="true">NAF</a></li></ul><div class="tab-content my-3"><div class="tab-pane fade show " id="idi60" role="tabpanel" aria-labelledby="idi60-tab"><pre class="md-code md-code-``` java"><code class="java">
    Address address=(app!=null &amp;&amp; app.person!=null)?app.person.address:null;
    if(address==null){
       throw new IllegalArgumentException("missing address"); 
    }
    Number roadNumber=(address!=null 
        &amp;&amp; address.road!=null)
        ? address.road.number:0;
</code></pre></div><div class="tab-pane fade show active" id="idi61" role="tabpanel" aria-labelledby="idi61-tab"><pre class="md-code md-code-``` java"><code class="java"> 
    // expected : var roadNumber=app?.person?.address!.road?.number??0;
    Number roadNumber=NOptional.of(app).then(v-&gt;v.person).then(v-&gt;v.address).get().then(v-&gt;v.road).then(v-&gt;v.number).orElse(0);
</code></pre></div></div><H4 class="md-title-2">When to use get(), orNull(), and orElse()</H4><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">get()</code> – returns the value or throws an exception if absent (assertive).</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">orNull()</code> – returns null if absent (passive).</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">orElse(value)</code> – returns a fallback if absent (coalescing).</p></li></ul><H4 class="md-title-2">Why not just use Optional</H4>While Java’s built-in Optional is useful, it lacks several features needed for expressive, null-safe code in complex applications:<ul class="md-ul"><li class="md-uli">❌ No support for named values or custom exception messages.</li><li class="md-uli">❌ No built-in chaining (Optional chaining is verbose with flatMap).</li><li class="md-uli">❌ No nullish coalescing equivalent.</li><li class="md-uli">❌ No describe() or integration with structured diagnostics.</li></ul><p class="md-phrase"><mark class="md-code md-code-` ">NOptional</mark> solves all of these while remaining compatible with functional idioms.</p>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="NStream" >
                                <h3 class="main-section2"><a href="#UD937B80F493F09053FBB6A5EDC5EFC0DCB3E4C71">10.3 NStream</a></h3>
                                <div class="text-card">
                                Java’s Stream API is powerful, but NAF introduces NStream to provide additional features useful in application development and debugging, particularly when you want describable, inspectable, and framework-integrated streams.NStream is not meant to replace Stream, but rather to wrap and extend it, providing:<ul class="md-ul"><li class="md-uli">Describable operations for logging, debugging, and reporting</li><li class="md-uli">Integration with NAF features like NElement, NMsg, and structured outputs</li><li class="md-uli">Helper methods that simplify working with iterables, iterators, or streams</li></ul><H4 class="md-title-2">Creating NStream</H4><pre class="md-code md-code-``` java"><code class="java">
// From values
NStream&lt;Integer&gt; s1 = NStream.of(1, 2, 3, 4, 5);

// From a Java Stream
Stream&lt;String&gt; javaStream = Stream.of("a","b","c");
NStream&lt;String&gt; s2 = NStream.ofStream(javaStream);

</code></pre><pre class="md-code md-code-``` java"><code class="java">
// From Iterable or Iterator
List&lt;Double&gt; numbers = List.of(0.1, 0.2, 0.3);
NStream&lt;Double&gt; s3 = NStream.of(numbers);
</code></pre><pre class="md-code md-code-``` java"><code class="java">
// From any object
NStream&lt;Double&gt; s3 = NStream.ofSingleton(1.0);
</code></pre><pre class="md-code md-code-``` java"><code class="java">
// From Optional
NOptional&lt;Double&gt; number = NOptional.of(1);
NStream&lt;Double&gt; s3 = NStream.ofOptional(number);
</code></pre>NStream works transparently over all these, giving you a single, uniform API.<H4 class="md-title-2">Stream Operations</H4>NStream supports familiar operations:<pre class="md-code md-code-``` java"><code class="java">
NStream&lt;Integer&gt; s = NStream.of(1,2,3,4,5)
                             .filter(x -&gt; x % 2 == 0)
                             .map(x -&gt; x * 10);
</code></pre>You can use any combination of map, filter, flatMap, sorted, etc., just like a standard Java Stream.<H4 class="md-title-2">Describable Pipelines</H4>One of NStream’s main benefits is that you can describe the operations for inspection or reporting. This is done using describable functional interfaces like NFunction and NPredicate:<pre class="md-code md-code-``` java"><code class="java">
NStream&lt;Integer&gt; s = NStream.ofArray(1,2,3,4,5)
    .filter(NPredicate.of(x -&gt; x % 2 == 0)
                      .withDesc(() -&gt; NElement.ofString("even numbers")))
    .map(NFunction.of(x -&gt; x * 10)
                  .withDesc(NElement.ofObject("mul", NElement.ofNumber(10))));

NElement description = s.describe();
NOut.println(description);
</code></pre>Example output (structured NElement):<pre class="md-code md-code-``` json"><code class="json">
{
  "source": [1,2,3,4,5],
  "operations": [
    {"filter": "even numbers"},
    {"map": {"mul": 10}}
  ]
}
</code></pre>NOTE : Descriptions are optional. You can still use plain Stream functions if you don’t need introspection.<H4 class="md-title-2">Why Use NStream?</H4><ul class="md-ul"><li class="md-uli">Visibility – describe() gives a structured view of the pipeline, useful for debugging and reporting.</li><li class="md-uli">Consistency – Unified API over Streams, Iterables, and Iterators.</li><li class="md-uli">NAF Integration – Works seamlessly with NElement, NMsg, and other NAF utilities.</li><li class="md-uli">Optional – You can ignore the descriptive features and use it just like a standard Stream.</li><li class="md-uli">NStream is particularly helpful in NAF search commands, logging pipelines, or anywhere you want structured insight into the data processing steps.</li></ul>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="U135D3C8AC89B4603142835023EE3227257911494" >
                        <h2 class="main-section1"><a href="#U135D3C8AC89B4603142835023EE3227257911494">11 Application Lifecycle</a></h2>
                        <div class="text-card">
                        
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="nutsAppNAF" >
                                <h3 class="main-section2"><a href="#U135D3C8AC89B4603142835023EE3227257911494">11.1 Nuts Application Framework</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-1">Using Nuts Application Framework (NAF)</H4><p class="md-phrase">Using <mark class="md-code md-code-``` ">nuts</mark> is transparent as we have seen so far. It's transparent both at build time and runtime. However, <mark class="md-code md-code-``` ">nuts</mark> can provide our application a set of unique helpful features, such as install and uninstall hooks, comprehensive command line support and so on.</p><p class="md-phrase">To create your first <mark class="md-code md-code-``` ">NAF</mark> application, you will need to add nuts as a dependency and change your <code class="md-code md-code-` ">pom.xml</code> as follows:</p><pre class="md-code md-code-``` xml"><code class="xml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;
    &lt;artifactId&gt;my-app&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;net.thevpc.nuts&lt;/groupId&gt;
            &lt;artifactId&gt;nuts-lib&lt;/artifactId&gt;
            &lt;version&gt;&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;jexcelapi&lt;/groupId&gt;
            &lt;artifactId&gt;jxl&lt;/artifactId&gt;
            &lt;version&gt;2.4.2&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
        &lt;nuts.application&gt;true&lt;/nuts.application&gt;
    &lt;/properties&gt;
&lt;/project&gt; 
</code></pre><p class="md-phrase">Please take note that we have added a property <code class="md-code md-code-` ">nuts.application=true</code>.  Actually this is not mandatory, but this will help <mark class="md-code md-code-``` ">nuts</mark> package manager detect that this application uses NAF before downloading its jar (the information will be available in the <code class="md-code md-code-``` pom">.xml</code> descriptor on the remote repository).</p>Then we will add some cool features to our application. We write a dummy message whenever the application is installed, uninstalled or updated. We will also add support to "--file=[path]" argument to specify the workbook path.<pre class="md-code md-code-``` java"><code class="java">
package com.mycompany.app;

import java.io.File;

import jxl.Workbook;
import jxl.write.WritableWorkbook;

public class App implements NApplication {

    public static void main(String[] args) {
        // just create an instance and call runAndExit in the main method
        // this method ensures that exist code is well propagated
        // from exceptions to caller processes
        new App().run(NAppRunOptions.ofExit(args));
    }

    @Override
    public void run() {
        NCmdLine cmd = NApp.of().getCmdLine();
        File file = new File("file.xls");
        while (cmd.hasNext()) {
            switch (cmd.getKey().getString()) {
                case "--file": {
                    NArg a = cmd.nextEntry().get();
                    file = new File(a.getStringValue());
                    break;
                }
                case "--fill": {
                    // process other options here ...
                    break;
                }
                default: {
                    s.configureLast(cmd);
                }
            }
        }
        try {
            WritableWorkbook w = Workbook.createWorkbook(file);
            s.out().printf("Workbook just created at %s%n", file);
        } catch (Exception ex) {
            ex.printStackTrace(s.err());
        }
    }

    @Override // this method is not required, implement when needed
    public void onInstallApplication() {
        NOut.println(NMsg.ofC("we are installing My Application : %s%n", NApp.of().getId()));
    }

    @Override // this method is not required, implement when needed
    public void onUninstallApplication() {
        NOut.println(NMsg.ofC("we are uninstalling My Application : %s%n", NApp.of().getId()));
    }

    @Override // this method is not required, implement when needed
    public void onUpdateApplication() {
        NOut.println(NMsg.ofC("we are updating My Application : %s%n", NApp.of().getId()));
    }
}

</code></pre>Now we can install or uninstall the application and see the expected messages.<pre class="md-code md-code-``` bash"><code class="bash">
nuts -y install com.mycompany.app:my-app
nuts -y uninstall com.mycompany.app:my-app
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="nutsApp" >
                                <h3 class="main-section2"><a href="#U135D3C8AC89B4603142835023EE3227257911494">11.2 Your first Application using nuts</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-2">Running your application with Nuts</H4><p class="md-phrase">Lets take, step by step, an example of an application that you will run using <mark class="md-code md-code-``` ">nuts</mark> package manager</p><p class="md-phrase">First we can create the project using your favourite IDE or using simply <mark class="md-code md-code-` ">mvn</mark> command</p><pre class="md-code md-code-``` "><code class="">
mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-simple -DarchetypeVersion=1.4 -DinteractiveMode=false
</code></pre>We will have a fully generated java project<pre class="md-code md-code-``` bash"><code class="bash">
~/&gt; tree
.
└── my-app
    ├── pom.xml
    └── src
        ├── main
            └── java
                └── com
                    └── mycompany
                        └── app
                            └── App.java

</code></pre><p class="md-phrase">Now we will add some dependencies to the project. Let's add <code class="md-code md-code-` ">jexcelapi:jxl#2.4.2</code> and update <code class="md-code md-code-` ">pom.xml</code> consequently.</p><pre class="md-code md-code-``` xml"><code class="xml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;
    &lt;artifactId&gt;my-app&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;jexcelapi&lt;/groupId&gt;
            &lt;artifactId&gt;jxl&lt;/artifactId&gt;
            &lt;version&gt;2.4.2&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
    &lt;/properties&gt;
&lt;/project&gt; 
</code></pre>Now we update the App.java file<pre class="md-code md-code-``` java"><code class="java">
package com.mycompany.app;

import java.io.File;

import jxl.Workbook;
import jxl.write.WritableWorkbook;

public class App {

    public static void main(String[] args) {
        try {
            WritableWorkbook w = Workbook.createWorkbook(new File("any-file.xls"));
            System.out.println("Workbook just created");
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }
}

</code></pre>finally we compile the app:<pre class="md-code md-code-``` bash"><code class="bash">
mvn clean install
</code></pre><p class="md-phrase">Of course, we won't be able to run the application yet. Would we? For this app to work there are several ways, all of them are complicated and require modifying the <code class="md-code md-code-` ">pom.xml</code>  and even modifying the output jar. we can for instance generate an output lib directory and update the <mark class="md-code md-code-` ">META-INF</mark> file using <mark class="md-code md-code-` ">maven-dependency-plugin</mark>. (see <a href="https://maven.apache.org/plugins/maven-shade-plugin" class="md-link">https://maven.apache.org/plugins/maven-shade-plugin</a> ; <a href="https://www.baeldung.com/executable-jar-with-maven" class="md-link">https://www.baeldung.com/executable-jar-with-maven</a>). We could also use <mark class="md-code md-code-` ">maven-assembly-plugin</mark> to include the dependencies into the jar itself ('what the fat' jar!). Another alternative is to use an uglier solution with <mark class="md-code md-code-``` ">maven-shade-plugin</mark> and blend libraries into the main jar. In all cases we need as well to configure <mark class="md-code md-code-` ">maven-jar-plugin</mark> to specify the main class file.</p><p class="md-phrase">I am not exposing all solutions here. You can read this article for more details (<a href="https://www.baeldung.com/executable-jar-with-maven" class="md-link">https://www.baeldung.com/executable-jar-with-maven</a>) but trust me, they all stink.Instead of that we will use <mark class="md-code md-code-` ">nuts</mark>. In that case, actually we are already done, the app is already OK! We do not need to specify the main class neither are we required to bundle <mark class="md-code md-code-` ">jxl</mark> and its dependencies. We only need to run the app. That's it.</p><p class="md-phrase">Basically, you can install the application using its identifier <code class="md-code md-code-` ">com.mycompany.app:my-app</code>. The latest version will be resolved.</p><pre class="md-code md-code-``` bash"><code class="bash">
nuts install com.mycompany.app:my-app
nuts my-app
</code></pre>This will install the application and run it on the fly. Dependencies will be detected, resolved and downloaded. The application is installed from local maven repository. It needs to be deployed to a public repository for it to be publicly accessible, however.We can also choose not to install the app and bundle it as a jar. No need for a public repository in that case:<pre class="md-code md-code-``` bash"><code class="bash">
nuts -y com my-app-1.0.0-SNAPSHOT.jar
</code></pre><p class="md-phrase">As we can see, <mark class="md-code md-code-` ">nuts</mark> provides the simplest and the most elegant way to deploy your application.</p><p class="md-phrase">One question though. what happens if we define multiple main methods (in multiple public classes). It's handled as well by <mark class="md-code md-code-``` ">nuts</mark> seamlessly. It just asks, at runtime, for the appropriate class to run.</p><H4 class="md-title-1">Using Nuts Application Framework</H4><p class="md-phrase">Using <mark class="md-code md-code-``` ">nuts</mark> is transparent as we have seen so far. It's transparent both at build time and runtime. However, <mark class="md-code md-code-``` ">nuts</mark> can provide our application a set of unique helpful features, such as install and uninstall hooks, comprehensive command line support and so on.</p><p class="md-phrase">To create your first <mark class="md-code md-code-``` ">NAF</mark> application, you will need to add nuts as a dependency and change your <code class="md-code md-code-` ">pom.xml</code> as follows:</p><pre class="md-code md-code-``` xml"><code class="xml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;
    &lt;artifactId&gt;my-app&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;net.thevpc.nuts&lt;/groupId&gt;
            &lt;artifactId&gt;nuts&lt;/artifactId&gt;
            &lt;version&gt;0.8.6.0&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;jexcelapi&lt;/groupId&gt;
            &lt;artifactId&gt;jxl&lt;/artifactId&gt;
            &lt;version&gt;2.4.2&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
        &lt;nuts.application&gt;true&lt;/nuts.application&gt;
    &lt;/properties&gt;
&lt;/project&gt; 
</code></pre><p class="md-phrase">Please take note that we have added a property <code class="md-code md-code-` ">nuts.application=true</code>.  Actually this is not mandatory, but this will help <mark class="md-code md-code-``` ">nuts</mark> package manager detect that this application uses NAF before downloading its jar (the information will be available in the <code class="md-code md-code-``` pom">.xml</code> descriptor on the remote repository).</p>Then we will add some cool features to our application. We write a dummy message whenever the application is installed, uninstalled or updated. We will also add support to "--file=[path]" argument to specify the workbook path.<pre class="md-code md-code-``` java"><code class="java">
package com.mycompany.app;

import java.io.File;

import jxl.Workbook;
import jxl.write.WritableWorkbook;

@NAppDefinition
public class App {

    public static void main(String[] args) {
        // just create an instance and call runAndExit in the main method
        // this method ensures that exist code is well propagated
        // from exceptions to caller processes
        new App().run(NAppRunOptions.ofExit(args));
    }

    @NAppRunner
    public void run() {
        NCmdLine cmd = NApp.of().getCmdLine();
        File file = new File("file.xls");
        while (cmd.hasNext()) {
            switch (cmd.getKey().getString()) {
                case "--file": {
                    NArg a = cmd.nextEntry().get();
                    file = new File(a.getStringValue());
                    break;
                }
                case "--fill": {
                    // process other options here ...
                    break;
                }
                default: {
                    s.configureLast(cmd);
                }
            }
        }
        try {
            WritableWorkbook w = Workbook.createWorkbook(file);
            s.out().printf("Workbook just created at %s%n", file);
        } catch (Exception ex) {
            ex.printStackTrace(s.err());
        }
    }

    @NAppInstall // this method is not required, implement when needed
    public void onInstallApplication() {
        NOut.println(NMsg.ofC("we are installing My Application : %s%n", NApp.of().getId()));
    }

    @NAppUninstaller // this method is not required, implement when needed
    public void onUninstallApplication() {
        NOut.println(NMsg.ofC("we are uninstalling My Application : %s%n", NApp.of().getId()));
    }

    @NAppUpdater // this method is not required, implement when needed
    public void onUpdateApplication() {
        NOut.println(NMsg.ofC("we are updating My Application : %s%n", NApp.of().getId()));
    }
}

</code></pre>Now we can install or uninstall the application and see the expected messages.<pre class="md-code md-code-``` bash"><code class="bash">
nuts -y install com.mycompany.app:my-app
nuts -y uninstall com.mycompany.app:my-app
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="UA6606D31AE89C224E2F696DF7F81E4D04AC20737" >
                                <h3 class="main-section2"><a href="#U135D3C8AC89B4603142835023EE3227257911494">11.3 Command Line Arguments</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-2">Nuts Application Framework CommandLine</H4><p class="md-phrase">Application Command line can be retrieved via <mark class="md-code md-code-` ">NApp</mark> instance:</p><pre class="md-code md-code-``` java"><code class="java">
    NCmdLine c1= NApp.of().getCmdine();
</code></pre><H4 class="md-title-2">Exec / Autocomplete modes</H4><pre class="md-code md-code-``` java"><code class="java">
    NCmdLine c= NApp.of().getCmdine();
    if(c.isExecMode()){
        ///    
    }
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U4A6B0EF704F4FD9EBDA792198EDE2BBCB4605FEB" >
                                <h3 class="main-section2"><a href="#U135D3C8AC89B4603142835023EE3227257911494">11.4 Nuts Descriptor Integration</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-2">Nuts Descriptor Integration</H4><ul class="md-ul"><li class="md-uli">Seamless integration</li><li class="md-uli">Maven Solver</li></ul><H4 class="md-title-3">Nuts and Maven</H4><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">nuts.executable=&lt;true|false&gt;</code> : when true the artifact is an executable (contains main class)</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">nuts.application=&lt;true|false&gt;</code> : when true the artifact is an executable application (implements NutsApplication)</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">nuts.gui=&lt;true|false&gt;</code> : when true the requires a gui environment to execute</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">nuts.term=&lt;true|false&gt;</code> : when true the artifact is a command line executable</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">nuts.icons=&lt;icon-path-string-array&gt;</code> : an array (separated with ',' or new lines) of icon paths (url in the NPath   format)</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">nuts.genericName=&lt;genericNameString&gt;</code> : a generic name for the application like 'Text Editor'</p><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">nuts.categories=&lt;categories-string-array&gt;</code> : an array (separated with ',' or new lines) of categories. the       categories should be compatible with Free Desktop Menu       specification (<a href="https://specifications.freedesktop.org/menu-spec/menu-spec-1.0.html" class="md-link">https://specifications.freedesktop.org/menu-spec/menu-spec-1.0.html</a>)</p></li></ul></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">nuts.&lt;os&gt;-os-dependencies</code> : list (':',';' or line separated) of short ids of dependencies that shall be appended to   classpath only if running on the given os (see NutsOsFamily). This is a ways more simple than using the builtin '   profile' concept of Maven (which is of course supported as well)</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">nuts.&lt;arch&gt;-arch-dependencies</code> : list (':',';' or line separated) of short ids of dependencies that shall be appended   to classpath only if running on the given hardware architecture (see NutsArchFamily). This is a ways more simple than   using the builtin 'profile' concept of Maven (which is of course supported as well)</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">nuts.&lt;os&gt;-os-&lt;arch&gt;-arch-dependencies</code> : list (':',';' or line separated) of short ids of dependencies that shall be   appended to classpath only if running on the given hardware architecture and os family</p></li></ul><pre class="md-code md-code-``` xml"><code class="xml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://maven.apache.org/POM/4.0.0"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;your-group&lt;/groupId&gt;
    &lt;artifactId&gt;your-project&lt;/artifactId&gt;
    &lt;version&gt;1.2.3&lt;/version&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
    &lt;properties&gt;
        &lt;!--properties having special meanings in Nuts--&gt;
        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;

        &lt;!--properties specific to nuts for developers extending nuts--&gt;
        &lt;nuts.runtime&gt;true&lt;/nuts.runtime&gt; &lt;!--if you implement a whole new runtime--&gt;
        &lt;nuts.extension&gt;true&lt;/nuts.extension&gt; &lt;!--if you implement an extension--&gt;

        &lt;!--other properties specific to nuts--&gt;
        &lt;nuts.genericName&gt;A Generic Name&lt;/nuts.genericName&gt;
        &lt;nuts.executable&gt;true&lt;/nuts.executable&gt;
        &lt;nuts.application&gt;true&lt;/nuts.application&gt;
        &lt;nuts.gui&gt;true&lt;/nuts.gui&gt;
        &lt;nuts.term&gt;true&lt;/nuts.term&gt;

        &lt;nuts.categories&gt;
            /Settings/YourCategory
        &lt;/nuts.categories&gt;
        &lt;nuts.icons&gt;
            classpath://net/yourpackage/yourapp/icon.svg
            classpath://net/yourpackage/yourapp/icon.png
            classpath://net/yourpackage/yourapp/icon.ico
        &lt;/nuts.icons&gt;
        &lt;nuts.windows-os-dependencies&gt;
            org.fusesource.jansi:jansi
            com.github.vatbub:mslinks
        &lt;/nuts.windows-os-dependencies&gt;
        &lt;nuts.windows-os-x86_32-arch-dependencies&gt;
            org.fusesource.jansi:jansi
            com.github.vatbub:mslinks
        &lt;/nuts.windows-os-x86_32-arch-dependencies&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;

</code></pre><H4 class="md-title-3">Nuts and Java MANIFEST.MF</H4><pre class="md-code md-code-``` manifest"><code class="manifest">

Manifest-Version: 1.0
Archiver-Version: Plexus Archiver
Built-By: vpc
Created-By: Apache Maven 3.8.1
Build-Jdk: 1.8.0_302

Nuts-Id: groupid:artifactid#version
Nuts-Dependencies: org.fusesource.jansi:jansi#1.2?os=windows;com.github.vatbub:mslinks#1.3?os=windows
Nuts-Name: Your App Name
Nuts-Generic-Name: Your App Generic Name
Nuts-Description: Your App Description
Nuts-Categories: /Settings/YourCategory;/Settings/YourCategory2
Nuts-Icons: classpath://net/yourpackage/yourapp/icon.svg;classpath://net/yourpackage/yourapp/icon.png
Nuts-Property-YourProp: YourValue

Comment: if the Nuts-Id could not be found, best effort will be used from the following
Automatic-Module-Name: yourgroupid.yourartifactid.YourClass
Main-Class: groupid.artifactid.YourClass
Implementation-Version: 1.2.3

</code></pre><H4 class="md-title-3">Nuts and Java 9 (jdeps)</H4><p class="md-phrase">Nuts supports <mark class="md-code md-code-` ">Automatic-Module-Name</mark>.</p><pre class="md-code md-code-``` manifest"><code class="manifest">
Automatic-Module-Name: yourgroupid.yourartifactid.YourClass

</code></pre><H4 class="md-title-3">Nuts and Gradle (TODO)</H4>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="U4257FE11AA43FCBD155CCDFCCD5A6C0AB3E125D0" >
                        <h2 class="main-section1"><a href="#U4257FE11AA43FCBD155CCDFCCD5A6C0AB3E125D0">12 Integration & Interoperability</a></h2>
                        <div class="text-card">
                        NAF (Nuts Application Framework) is designed not only to provide powerful core utilities but also to integrate seamlessly with other Java ecosystems and frameworks. This section explores how NAF can interoperate with common tools and frameworks, allowing you to leverage its features without sacrificing compatibility or flexibility.<H4 class="md-title-2">Key Points</H4><H4 class="md-title-3">Spring Boot Integration</H4>NAF can be used alongside Spring Boot, providing its services (like NWorkspace, NExecCmd, NLog, and NTextArt) as beans or components in a Spring-managed application. This enables combining Spring’s dependency injection and lifecycle management with NAF’s runtime utilities.<H4 class="md-title-3">SLF4J Backend for NLog</H4>While NAF provides its own logging API (NLog) with advanced features like structured logging, scopes, and message formatting, it can delegate to widely-used logging frameworks like SLF4J. This allows applications to retain NLog capabilities while integrating with existing logging infrastructure, including Logback or Log4j2.<H4 class="md-title-3">Flexible Output & Messaging</H4>NAF’s components—such as NTextArt, NProgressMonitor, and NExecCmd—can output to different destinations, including standard streams, files, or logging backends. This makes it easy to integrate visual and progress feedback into GUI applications, web services, or enterprise pipelines.<H4 class="md-title-3">Cross-Framework Reusability</H4>Because NAF is modular and decoupled, its APIs can coexist with other libraries without requiring significant refactoring. You can use Nuts for dependency resolution, task execution, logging, and progress monitoring in the context of Spring Boot, Micronaut, or even plain Java SE projects.
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="U055DEE6D08474BBBDEFE643105876F60C0D13D22" >
                                <h3 class="main-section2"><a href="#U4257FE11AA43FCBD155CCDFCCD5A6C0AB3E125D0">12.1 NAF Spring Boot Integration</a></h3>
                                <div class="text-card">
                                nuts can work flawlessly with spring boot applications. You just need one annotation @NAppDefinition to mark your SpringBootApplication.Add the following dependency to you spring boot project<pre class="md-code md-code-``` xml"><code class="xml">
    &lt;dependency&gt;
        &lt;groupId&gt;net.thevpc.nuts&lt;/groupId&gt;
        &lt;artifactId&gt;nuts-spring-boot&lt;/artifactId&gt;
        &lt;version&gt;0.8.6.0&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre><p class="md-phrase">Add @NAppDefinition in your <mark class="md-code md-code-` ">SpringBootApplication</mark> top class.</p><pre class="md-code md-code-``` java"><code class="java">
@NAppDefinition
@SpringBootApplication
@Import(NutsSpringBootConfig.class)
public class AppExample {
    public static void main(String[] args) {
        SpringApplication.run(AppExample.class, args);
    }

    @NAppRunner // not mandatory
    public void run() {
        NOut.println("Hello ##World##");
    }
}
</code></pre>Now you can inject Nuts objects in your beans<pre class="md-code md-code-``` java"><code class="java">
@Component
public class MyBean {
    @Autowired NSession session;
    @Autowired NWorkspace workspace;
    @Autowired NScheduler scheduler;
    @Autowired NTerminal term;
    @Autowired NPrintStream out;
}

</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="U63ABCAF9B3770A6EBBD4CEADCAA3810DD14F1AE7" >
                                <h3 class="main-section2"><a href="#U4257FE11AA43FCBD155CCDFCCD5A6C0AB3E125D0">12.2 NAF SLF4J Integration</a></h3>
                                <div class="text-card">
                                <pre class="md-code md-code-``` xml"><code class="xml">
    &lt;dependency&gt;
        &lt;groupId&gt;net.thevpc.nuts&lt;/groupId&gt;
        &lt;artifactId&gt;nuts-nuts-slf4j&lt;/artifactId&gt;
        &lt;version&gt;0.8.6.0&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                
                    <!--pageLevel1-->
                    <section id="UA8F4BA30657416C4B764DE934FC70CEA243F03DB" >
                        <h2 class="main-section1"><a href="#UA8F4BA30657416C4B764DE934FC70CEA243F03DB">13 Workspace & Package Context</a></h2>
                        <div class="text-card">
                        <p class="md-phrase"><mark class="md-code md-code-` ">NWorkspace</mark> and <mark class="md-code md-code-` ">NSession</mark> are the <b class="md-bold">foundation of Nuts runtime context</b>. Understanding how they work is essential for correctly using all Nuts components.</p><H4 class="md-title-2"><p class="md-phrase">What is a <mark class="md-code md-code-` ">NWorkspace</mark>?</p></H4><p class="md-phrase">A <mark class="md-code md-code-` ">NWorkspace</mark> represents the <b class="md-bold">application context</b> and <b class="md-bold">component container</b> in Nuts. It is:</p><ul class="md-ul"><li class="md-uli"><p class="md-phrase">Comparable to a Spring <mark class="md-code md-code-` ">ApplicationContext</mark>,</p></li><li class="md-uli"><p class="md-phrase">A container for all globally or locally scoped Nuts services (like <mark class="md-code md-code-` ">NOut</mark>, <mark class="md-code md-code-` ">NLog</mark>, <mark class="md-code md-code-` ">NWorkspaceService</mark>, etc.),</p></li><li class="md-uli"><p class="md-phrase">Required for all operations using Nuts APIs — at any moment, a Nuts component is always used <b class="md-bold">in the context of a workspace</b>.</p></li></ul><hr class="divider" class="md-hr"/><H4 class="md-title-2"><p class="md-phrase">What is a <mark class="md-code md-code-` ">NSession</mark>?</p></H4><p class="md-phrase">A <mark class="md-code md-code-` ">NSession</mark> is a <b class="md-bold">lightweight, thread-scoped execution context</b> associated with a <mark class="md-code md-code-` ">NWorkspace</mark>. It:</p><ul class="md-ul"><li class="md-uli">Controls options like verbosity, trace mode, output streams, and more,</li><li class="md-uli"><p class="md-phrase">Is <b class="md-bold">thread-local</b> by default and can be inherited by child threads,</p></li><li class="md-uli">Provides runtime configuration for rendering, formatting, user input, log levels, etc.</li></ul><p class="md-phrase">Any Nuts operation (e.g., <code class="md-code md-code-` ">NOut.println(...)</code>) implicitly uses the current <mark class="md-code md-code-` ">NSession</mark>, and therefore accesses the <mark class="md-code md-code-` ">NWorkspace</mark> bound to it.</p><hr class="divider" class="md-hr"/>
                        </div>
                        
                            <!--pageLevel2-->
                            <section id="U53A03A920051C10C3776C05BA69D621C0DA13EBA" >
                                <h3 class="main-section2"><a href="#UA8F4BA30657416C4B764DE934FC70CEA243F03DB">13.1 NWorkspace</a></h3>
                                <div class="text-card">
                                <H4 class="md-title-2">Opening and Sharing Workspaces</H4><H4 class="md-title-3">Default (global) workspace</H4><pre class="md-code md-code-``` java"><code class="java">
NWorkspace.require();
</code></pre><ul class="md-ul"><li class="md-uli">Returns the currently shared (global) workspace if one exists.</li><li class="md-uli">If no global workspace is present, creates and shares one by delegating to</li></ul><pre class="md-code md-code-``` java"><code class="java">
Nuts.openWorkspace("--reset-options", "--in-memory").share();
</code></pre>This ensures that a workspace is always available, without requiring manual setup.<div class="alert alert-success mb-4">This workspace is in-memory and ignores any inherited CLI options (--reset-options).  It’s ideal for quick use cases, testing, or tools that need a minimal setup.</div><H4 class="md-title-2">Scoped (local) workspace</H4>If you need isolation or temporary workspace setup:<pre class="md-code md-code-``` java"><code class="java">
Nuts.openWorkspace().runWith(() -&gt; {
        // This code runs inside a thread-local scoped workspace
        // Nuts components here use the scoped context
        });
</code></pre><ul class="md-ul"><li class="md-uli">Temporarily hides the global workspace inside the block,</li><li class="md-uli">Scoped workspace is available in current and inherited threads,</li><li class="md-uli">Ideal for frameworks, sandboxing, plugins and testing.</li><li class="md-uli">Nuts.openWorkspace() uses persistent location (across processes) unless --in-memory is passed.</li></ul><H4 class="md-title-2">Sharing workspace globally</H4>To explicitly promote a workspace to global:<pre class="md-code md-code-``` java"><code class="java">
Nuts.openWorkspace().share();
</code></pre>You may also customize it before sharing:<pre class="md-code md-code-``` java"><code class="java">
Nuts.openWorkspace("--in-memory", "--color").share();
</code></pre><H4 class="md-title-2">Environment & System Info</H4>Workspaces provide access to environment metadata:NWorkspace ws = NWorkspace.current();<pre class="md-code md-code-``` java"><code class="java">
ws.getHostName();               // Host name
ws.getPid();                    // Process ID
ws.getOsFamily();               // Linux, Windows, Mac, etc.
ws.getShellFamily();            // bash, cmd, powershell, etc.
ws.getPlatform();               // Java, Android, etc.
ws.getOs();                     // Full OS ID
ws.getOsDist();                 // OS distribution (e.g. Ubuntu)
ws.getArch();                   // CPU architecture (e.g. amd64)
ws.getArchFamily();            // Arch family (e.g. x86_64)
ws.getDesktopEnvironment();     // Gnome, KDE, etc.
ws.getDesktopEnvironmentFamily(); // Gnome-like, etc.
ws.isGraphicalDesktopEnvironment(); // true if graphical session
</code></pre>You can also list all available shell families or desktop environments:<pre class="md-code md-code-``` java"><code class="java">
ws.getShellFamilies(); // e.g. [BASH, ZSH, CMD]
ws.getDesktopEnvironments(); // List of detected environments
</code></pre><H4 class="md-title-2">Accessing the Current Workspace</H4>To retrieve the current NWorkspace (i.e., the one bound to the current thread context), you have two options:<H4 class="md-title-2">Elegant, fail-fast access</H4><pre class="md-code md-code-``` java"><code class="java">
NWorkspace ws = NWorkspace.of();
</code></pre><ul class="md-ul"><li class="md-uli">Returns the current workspace if one is available,</li><li class="md-uli">Throws an exception if no workspace is present,</li><li class="md-uli">Recommended when a workspace is expected to exist.</li><li class="md-uli">Equivalent to NWorkspace.get().get() but more expressive and fails clearly.</li></ul><H4 class="md-title-2">Safe, optional access</H4><pre class="md-code md-code-``` java"><code class="java">
Optional&lt;NWorkspace&gt; wsOpt = NWorkspace.get();
</code></pre><ul class="md-ul"><li class="md-uli">Returns an NOptionalnull</li></ul>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                            <!--pageLevel2-->
                            <section id="UAB8C20B280CC4301E1019351F8BDC72619645E9C" >
                                <h3 class="main-section2"><a href="#UA8F4BA30657416C4B764DE934FC70CEA243F03DB">13.2 NSession</a></h3>
                                <div class="text-card">
                                <p class="md-phrase"><mark class="md-code md-code-` ">NSession</mark> defines the current execution context within a Nuts <mark class="md-code md-code-` ">NWorkspace</mark>. It encapsulates:</p><ul class="md-ul"><li class="md-uli">Command-line options</li><li class="md-uli">User preferences</li><li class="md-uli">Output formatting</li><li class="md-uli">Trace/log verbosity</li><li class="md-uli">Interactive modes</li><li class="md-uli">Runtime state</li></ul><p class="md-phrase">Every operation within <mark class="md-code md-code-` ">Nuts</mark> is executed in the scope of a <mark class="md-code md-code-` ">NSession</mark>.</p><H4 class="md-title-2">Getting the Current Session</H4><H4 class="md-title-3">Elegant (fail-fast)</H4><pre class="md-code md-code-``` java"><code class="java">
    NSession session = NSession.of();
</code></pre><H4 class="md-title-3">Safe (optional)</H4><pre class="md-code md-code-``` java"><code class="java">
Optional&lt;NSession&gt; opt = NSession.get();
</code></pre>Returns an Optional session, or empty if not available.<H4 class="md-title-2">What Does a Session Do?</H4><ul class="md-ul"><li class="md-uli">Holds contextual flags like --trace, --yes, --bot, --dry, --confirm</li><li class="md-uli">Controls output formatting: plain, json, xml, tree, table, etc.</li><li class="md-uli">Configures confirmation/interaction modes</li><li class="md-uli">Tracks fetch/cache strategies and expiration</li><li class="md-uli">Controls repository settings</li><li class="md-uli">Defines runtime identity (root(), sudo(), etc.)</li></ul><H4 class="md-title-2">Thread-Scoped Context</H4>NSession is thread-local and inherited by spawned threads unless explicitly changed. To run with a different session:<pre class="md-code md-code-``` java"><code class="java">
session.runWith(() -&gt; {
    // Executes within the session context
});
</code></pre>Or return a result:<pre class="md-code md-code-``` java"><code class="java">
String result = session.callWith(() -&gt; computeSomething());
</code></pre><H4 class="md-title-2">Common Flags and States</H4><ul class="md-ul"><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">--trace</mark>	<code class="md-code md-code-` ">isTrace()</code>	Enables trace-mode output</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">--yes</mark>	<code class="md-code md-code-` ">isYes()</code>	Assume “yes” for confirmations</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">--no</mark>	<code class="md-code md-code-` ">isNo()</code>	Assume “no” for confirmations</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">--ask</mark>	<code class="md-code md-code-` ">isAsk()</code>	Always ask for confirmation</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">--bot</mark>	<code class="md-code md-code-` ">isBot()</code>	Enable non-interactive/script mode</p></li><li class="md-uli"><p class="md-phrase"><mark class="md-code md-code-` ">--dry</mark>	<code class="md-code md-code-` ">isDry()</code>	Dry-run only, no actual execution</p></li></ul><H4 class="md-title-2">Output Format</H4><pre class="md-code md-code-``` java"><code class="java">
Control the rendering format of structured output:
session.json();     // JSON
session.table();    // Tabular
session.tree();     // Tree
session.xml();      // XML
session.props();    // Properties
session.plain();    // Default/plain text
</code></pre><p class="md-phrase">Output formats affect rendering of <code class="md-code md-code-` ">NOut.println(...)</code>, logging, tables, etc.</p><H4 class="md-title-2">Streams Access</H4>Each session controls its I/O streams (also accessible via NOut, NErr and NIn):<pre class="md-code md-code-``` java"><code class="java">
session.out().println("Standard Output");
session.err().println("Error Output");
session.in().readLine();
</code></pre>This enables custom I/O redirection (e.g., GUI, files, remote shells).<H4 class="md-title-2">Trace Modes</H4>Trace mode activates auxiliary output useful for end users (not developers):<ul class="md-ul"><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">isPlainTrace()</code>: plain-text trace</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">isIterableTrace()</code>: structured trace with iterable format</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">isStructuredTrace()</code>: structured trace without iterable mode</p></li></ul><pre class="md-code md-code-``` java"><code class="java">
if (session.isTrace()) {
    NOut.println("Tracing enabled...");
}
// same as
NTrace.println("Tracing enabled...");
</code></pre><H4 class="md-title-2">Dependency Resolution Options And Fetch Strategy</H4>Used when resolving artifacts and loading jars from repositories (dynamic classloading)<ul class="md-ul"><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">isTransitive()</code>	Use transitive repositories</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">isCached()</code>	Use cached data when possible</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">isIndexed()</code>	Use indexed metadata</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">getExpireTime()</code>	Expire cache before this date</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">setFetchStrategy()</code>	Customize fetch strategy</p></li></ul><pre class="md-code md-code-``` java"><code class="java">
session.setFetchStrategy(NFetchStrategy.ONLINE);
</code></pre>The fetch strategy determines how and where Nuts searches for artifacts (e.g., dependencies, packages) across local and remote repositories.This affects resolution against repositories such as Maven Central, Nuts-based repositories, and custom remotes.<H4 class="md-title-3">🔎 Available Strategies</H4><table class="table table-bordered table-striped"><tr><th>Strategy</th><th>Description</th></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">ONLINE</mark>   </p></td><td>Default mode. Searches locally first; if not found, falls back to remotes.</td></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">OFFLINE</mark>  </p></td><td><p class="md-phrase"> Searches <b class="md-bold">only local caches</b>. No remote access is allowed.               </p></td></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">ANYWHERE</mark> </p></td><td><p class="md-phrase"> Searches both <b class="md-bold">local and remote</b> repositories concurrently.              </p></td></tr><tr><td><p class="md-phrase"> <mark class="md-code md-code-` ">REMOTE</mark>   </p></td><td><p class="md-phrase"> Searches <b class="md-bold">only remote</b> repositories, ignoring local cache.               </p></td></tr></table><H4 class="md-title-2">Confirmation and Interaction</H4>Control how user prompts are handled:<pre class="md-code md-code-``` java"><code class="java">
session.yes();              // Force auto-yes
session.no();               // Force auto-no
session.ask();              // Always prompt

session.setConfirm(NConfirmationMode.YES);
</code></pre><H4 class="md-title-2">Interactive Session Features</H4>Enable/disable progress output:<pre class="md-code md-code-``` java"><code class="java">
session.setProgressOptions("auto");
</code></pre><H4 class="md-title-2">Control GUI/headless:</H4><pre class="md-code md-code-``` java"><code class="java">
session.setGui(true);
</code></pre><p class="md-phrase">The <mark class="md-code md-code-` ">gui</mark> flag in a session determines whether user interactions should be performed using <b class="md-bold">graphical UI dialogs</b> or <b class="md-bold">standard console input</b>.</p><ul class="md-ul"><li class="md-uli"><p class="md-phrase">When <mark class="md-code md-code-` ">gui</mark> is <b class="md-bold">enabled</b>, interactive methods like <code class="md-code md-code-` ">NIn.readLine()</code> or <code class="md-code md-code-` ">NIn.ask()</code> may display <b class="md-bold">graphical dialogs</b> for input instead of using the terminal.</p></li><li class="md-uli"><p class="md-phrase">When <mark class="md-code md-code-` ">gui</mark> is <b class="md-bold">disabled</b> (default in headless or CLI environments), all interactions fall back to <b class="md-bold">console-based prompts</b>.</p></li></ul><div class="alert alert-success mb-4">In GUI-enabled environments, this may pop up a dialog window rather than prompting in the console.</div><H4 class="md-title-2">Customize output line prefixes:</H4><pre class="md-code md-code-``` java"><code class="java">
session.setOutLinePrefix("[out] ");
session.setErrLinePrefix("[err] ");
</code></pre><H4 class="md-title-2">Sample Use Case</H4><pre class="md-code md-code-``` java"><code class="java">
NSession session = NSession.of().json().setTrace(true);
List&lt;MyObject&gt; data = ...;
NOut.out(session).println(data);  // will output JSON trace if enabled

</code></pre><H4 class="md-title-2">Advanced Configuration</H4>You can clone and configure sessions:<pre class="md-code md-code-``` java"><code class="java">
NSession childSession = session.copy()
        .setOutputFormat(NContentType.XML)
        .setBot(true)
        .setTrace(false);
        
</code></pre><H4 class="md-title-2">Redirecting Session Streams (Advanced I/O Control)</H4>Nuts allows you to redirect the I/O streams of a session to memory, files, or custom terminals. This is especially useful for scripting, capturing outputs programmatically, or testing. You can run a block of code using a customized session that redirects output to memory.  This is useful for capturing the result of structured rendering (e.g., JSON, XML, table) without printing it to the console. Example:<pre class="md-code md-code-``` java"><code class="java">
String result = NSession.of().copy()
    .setTerminal(NTerminal.ofMem())     // redirect all I/O to memory
    .callWith(() -&gt; {
        NSession.of().json();           // structured output (e.g., JSON)
        NOut.println(Arrays.asList("a", "b", "c"));
        return NOut.out().toString();   // retrieve the rendered output as string
    });
</code></pre>Explanation: <ul class="md-ul"><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">setTerminal(NTerminal.ofMem())</code>: uses an in-memory terminal for all I/O</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">NSession.of().json()</code>: sets the output format to JSON</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">NOut.println(...)</code>: renders the list to the output stream</p></li><li class="md-uli"><p class="md-phrase"><code class="md-code md-code-` ">NOut.out().toString()</code>: fetches the printed result from memory</p></li></ul><div class="alert alert-success mb-4">This technique is useful when you want to render structured output for internal use (e.g., passing to another API or storing in a log file),  rather than displaying it directly.</div><H4 class="md-title-2">Log Configuration</H4>Control logging levels and filters:<pre class="md-code md-code-``` java"><code class="java">
session.setLogTermLevel(Level.INFO);
session.setLogFileLevel(Level.FINE);
session.setLogFilter(log -&gt; log.getVerb().equals(NLogIntent.FAIL));
</code></pre><H4 class="md-title-2">Listeners</H4>Register and listen to session/workspace events:<pre class="md-code md-code-``` java"><code class="java">
session.addListener(new NWorkspaceListener() {
...
});
</code></pre>Supported listener types:<ul class="md-ul"><li class="md-uli">NWorkspaceListener</li><li class="md-uli">NRepositoryListener</li><li class="md-uli">NInstallListener</li><li class="md-uli">NObservableMapListener</li></ul><H4 class="md-title-2">Best Practices</H4><ul class="md-ul"><li class="md-uli">Use NSession.of() only when you're sure a session context exists</li><li class="md-uli">Always configure session flags (--yes, --bot, etc.) when parsing application commandlines</li></ul>
                                </div>
                                
                            </section>
                            <hr class="divider">
                        
                    </section>
                    <hr class="divider">
                

            </div>
        </div>

    </div>
    <!-- Content end -->

    <!-- Footer
============================ -->
<footer id="footer" class="section bg-dark footer-text-light">
    <div class="container">
        <ul class="social-icons social-icons-lg social-icons-muted justify-content-center mb-3">
            <li><a data-toggle="tooltip" href="https://twitter.com/tbensalah/" target="_blank" title=""
                   data-original-title="Twitter"><i class="fab fa-twitter"></i></a></li>
            <li><a data-toggle="tooltip" href="http://www.facebook.com/tbensalah/" target="_blank" title=""
                   data-original-title="Facebook"><i class="fab fa-facebook-f"></i></a></li>
            <li><a data-toggle="tooltip" href="http://www.dribbble.com/tbensalah/" target="_blank" title=""
                   data-original-title="Dribbble"><i class="fab fa-dribbble"></i></a></li>
            <li><a data-toggle="tooltip" href="https://github.com/thevpc/nuts" target="_blank" title=""
                   data-original-title="GitHub"><i class="fab fa-github"></i></a></li>
        </ul>
        <p class="text-2 text-center mb-0">
            Copyright © 2018-2025 Nuts Package Manager Team.
            <br>
            Generated with <a class="btn-link" target="_blank" href="apps.html#app-ndoc">ndoc</a> on 2025-09-25-011124
            <br>
            <span style="font-size: 0.5rem">Based on <a class="btn-link" target="_blank"
                                                        href="https://github.com/harnishdesign/iDocs">HarnishDesign</a></span>
        </p>
    </div>
</footer>
<!-- Footer end -->

</div>
<!-- Document Wrapper end -->

<!-- Back To Top -->
<a id="back-to-top" data-toggle="tooltip" title="Back to Top" href="javascript:void(0)"><i class="fa fa-chevron-up"></i></a>

<!-- JavaScript
============================ -->
<script src="assets/vendor/jquery/jquery.min.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- Highlight JS -->
<script src="assets/vendor/highlight.js/highlight.min.js"></script>
<!-- Easing -->
<script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
<!-- Magnific Popup -->
<script src="assets/vendor/magnific-popup/jquery.magnific-popup.min.js"></script>
<!-- Custom Script -->
<script src="assets/js/theme.js"></script>
</body>
</html>
