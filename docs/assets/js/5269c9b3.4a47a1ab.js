"use strict";(self.webpackChunknuts=self.webpackChunknuts||[]).push([[608],{9821:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>l});var t=s(4848),a=s(8453);const c={id:"exec-cmd",title:"Exec and Which Commands",sidebar_label:"Exec and Which Commands"},i=void 0,r={id:"cmd/exec-cmd",title:"Exec and Which Commands",description:"exec command runs another command and which command does a dry run of it.",source:"@site/docs/cmd/exec-cmd.md",sourceDirName:"cmd",slug:"/cmd/exec-cmd",permalink:"/nuts/docs/cmd/exec-cmd",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cmd/exec-cmd.md",tags:[],version:"current",frontMatter:{id:"exec-cmd",title:"Exec and Which Commands",sidebar_label:"Exec and Which Commands"},sidebar:"tutorialSidebar",previous:{title:"Nuts Commands",permalink:"/nuts/docs/cmd/cmds"},next:{title:"Fetch Command",permalink:"/nuts/docs/cmd/fetch-cmd"}},d={},l=[{value:"1.2 External Commands",id:"12-external-commands",level:4},{value:"1.2 External Files &amp; URLs",id:"12-external-files--urls",level:4},{value:"2. Execution types",id:"2-execution-types",level:2},{value:"2.1 spawn",id:"21-spawn",level:3},{value:"2.2 embedded",id:"22-embedded",level:3},{value:"2.3 syscall",id:"23-syscall",level:3},{value:"3 Execution modes",id:"3-execution-modes",level:2},{value:"3.1 effective execution",id:"31-effective-execution",level:3},{value:"3.2 dry execution",id:"32-dry-execution",level:3}];function o(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"exec"})," command runs another command and ",(0,t.jsx)(n.strong,{children:"which"})," command does a dry run of it."]}),"\n",(0,t.jsx)(n.p,{children:"When one types"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"nuts netbeans-command\n"})}),"\n",(0,t.jsx)(n.p,{children:"it is actually equivalent to"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"nuts exec netbeans-command\n"})}),"\n",(0,t.jsxs)(n.p,{children:["What is helpful with ",(0,t.jsx)(n.strong,{children:"exec"})," is that it permits passing extra parameters to application executors. In ",(0,t.jsx)(n.strong,{children:"nuts"}),", an application executor is an artifact that can be used to run other artifacts. For instance ",(0,t.jsx)(n.strong,{children:"nsh"}),", which is a ",(0,t.jsx)(n.strong,{children:"nuts"}),' companion, is an executor for all "*.nsh" artifacts (yest script files are artifacts too). Some executors are specially handled such as "java" executor that is used to run all jars and basically all java based artifacts. Java executor for instance supports all java standard vm option arguments']}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"me@linux:~> nuts exec -Xmx1G netbeans-launcher\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Here we pass -Xmx1G option argument to java executor because ",(0,t.jsx)(n.strong,{children:"netbeans-launcher"})," will be resolved as a java based artifact.\nFor what concerns ",(0,t.jsx)(n.strong,{children:"which"})," command, it does not really execute the command, it just resolves the command execution"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"me@linux:~> nuts which version ls\nversion : internal command \nls : nuts alias (owner maven-local://net.vpc.app.nuts.toolbox:nsh#0.8.4.0 ) : maven-local://net.vpc.app.nuts.toolbox:nsh#0.8.4.0 -c ls\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Here ",(0,t.jsx)(n.strong,{children:"which"})," returns that ",(0,t.jsx)(n.strong,{children:"version"})," is an internal command while ",(0,t.jsx)(n.strong,{children:"ls"}),' is an alias to an artifact based command (nsh -c ls) which is called a "nuts alias". As you can see, ls is actually a sub command of nsh artifact.']}),"\n",(0,t.jsx)(n.h4,{id:"12-external-commands",children:"1.2 External Commands"}),"\n",(0,t.jsx)(n.p,{children:"External commands are commands that will invoke another artifact. for instance"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"nuts netbeans-command\n"})}),"\n",(0,t.jsxs)(n.p,{children:["is running an external command which is net.vpc.app",":netbeans-launcher","#1.2.2 artifact."]}),"\n",(0,t.jsx)(n.h4,{id:"12-external-files--urls",children:"1.2 External Files & URLs"}),"\n",(0,t.jsxs)(n.p,{children:["You can run any jar file using ",(0,t.jsx)(n.strong,{children:"nuts"})," as far as it fulfills two points : the files must contain a supported descriptor (if it is compiled with maven, it already has the supported descriptor) and the file should be typed as a path (it must contain a '/' or '' separator)"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"wget -N https://github.com/thevpc/vpc-public-maven/raw/master/net/vpc/app/netbeans-launcher/1.2.2/netbeans-launcher-1.2.2.jar\nnuts ./netbeans-launcher-1.2.2.jar\n"})}),"\n",(0,t.jsx)(n.p,{children:"You can even run a remove file using its url format :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"nuts https://github.com/thevpc/vpc-public-maven/raw/master/net/vpc/app/netbeans-launcher/1.2.2/netbeans-launcher-1.2.2.jar\n"})}),"\n",(0,t.jsx)(n.h2,{id:"2-execution-types",children:"2. Execution types"}),"\n",(0,t.jsx)(n.h3,{id:"21-spawn",children:"2.1 spawn"}),"\n",(0,t.jsx)(n.p,{children:"This is the default execution type where any external command will spawn a new process to execute within.\nInternal commands are not affected by this mode and are executed, always, in the current vm process (with embedded type)."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"me@linux:~> nuts --spawn ls\n"})}),"\n",(0,t.jsx)(n.h3,{id:"22-embedded",children:"2.2 embedded"}),"\n",(0,t.jsx)(n.p,{children:"In this type the command will try not to spawn a new process but load in the current vm the commmand to run (as far as it is a java command)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"me@linux:~> nuts --embedded ls\n"})}),"\n",(0,t.jsx)(n.h3,{id:"23-syscall",children:"2.3 syscall"}),"\n",(0,t.jsx)(n.p,{children:"In this type, the command execution is delegated to the underlying operating system end hence will also swan a new process."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"me@linux:~> nuts --syscall ls\n"})}),"\n",(0,t.jsx)(n.h2,{id:"3-execution-modes",children:"3 Execution modes"}),"\n",(0,t.jsx)(n.h3,{id:"31-effective-execution",children:"3.1 effective execution"}),"\n",(0,t.jsx)(n.p,{children:"This is the default execution mode where the command is really and effectively ran."}),"\n",(0,t.jsx)(n.h3,{id:"32-dry-execution",children:"3.2 dry execution"}),"\n",(0,t.jsx)(n.p,{children:'In this mode, the command will be ran in dry mode with no side effects which implies a "simulation" of the execution.'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"me@linux:~> nuts --dry version\n[dry] internal version \n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>r});var t=s(6540);const a={},c=t.createContext(a);function i(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);